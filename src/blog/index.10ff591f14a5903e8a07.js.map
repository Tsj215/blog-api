{"version":3,"sources":["webpack:///./src/pages/userCenter/containers/UserProfile/index.less","webpack:///./src/skeleton/index.ts","webpack:///./src/skeleton/components/HeaderDropdown/index.tsx","webpack:///./src/pages/userCenter/ducks/profile.ts","webpack:///./src/skeleton/auth/authority.ts","webpack:///./src/skeleton/components/NoticeIcon/NoticeList.tsx","webpack:///./src/skeleton/components/NoticeIcon/index.tsx","webpack:///./src/pages/article/ducks/blog.ts","webpack:///./src/pages/article/ducks/tag.ts","webpack:///./src/schema/datetime.ts","webpack:///./src/schema/user/UserProfile.ts","webpack:///./src/schema/moCloud/message.ts","webpack:///./src/schema/article/article.ts","webpack:///./src/schema/index.ts","webpack:///./src/skeleton/types/comp.tsx","webpack:///./src/pages/article/ducks/index.ts","webpack:///./src/pages/moCloud/ducks/index.ts","webpack:///./src/pages/userCenter/ducks/index.ts","webpack:///./src/ducks/common.ts","webpack:///./src/ducks/index.ts","webpack:///./src/skeleton/env/store.ts","webpack:///./src/skeleton/components/NoticeIcon/index.less","webpack:///./src/pages/auth/containers/LoginPage/index.less","webpack:///./src/skeleton/containers/PromiseComp/index.tsx","webpack:///./src/pages/article/meta.tsx","webpack:///./src/manifest.ts","webpack:///./src/pages/userCenter/containers/Bars/TagsManagement.less","webpack:///./src/apis/user/profile.ts","webpack:///./src/apis/moCloud/moCloud.ts","webpack:///./src/apis/article/tag.ts","webpack:///./src/apis/article/article.ts","webpack:///./src/apis/index.ts","webpack:///../rtw-components/src/decorators/PageHeader/index.tsx","webpack:///../rtw-components/src/decorators/HandleTags/index.tsx","webpack:///../rtw-components/src/index.ts","webpack:///./src/skeleton/components/GlobalHeader/RightContent.tsx","webpack:///./src/skeleton/components/HeaderSearch/index.tsx","webpack:///./src/skeleton/components/LangSelector/index.tsx","webpack:///./src/skeleton/components/GlobalHeader/UserDropdown.tsx","webpack:///./src/skeleton/containers/AppContainer/index.tsx","webpack:///./src/pages/userCenter/containers/Bars/ArticleManagement.tsx","webpack:///./src/pages/userCenter/containers/Bars/TagsManagement.tsx","webpack:///./src/pages/userCenter/containers/Bars/index.tsx","webpack:///./src/pages/userCenter/containers/SettingUser/index.tsx","webpack:///./src/pages/userCenter/containers/PhotoGallery/index.tsx","webpack:///./src/pages/userCenter/containers/UserProfile/index.tsx","webpack:///./src/skeleton/containers/App/index.tsx","webpack:///./src/skeleton/auth/permissions.tsx","webpack:///./src/skeleton/auth/AuthorizedRoute.tsx","webpack:///./src/skeleton/auth/index.tsx","webpack:///./src/skeleton/components/GlobalHeader/NoticeIconView.tsx","webpack:///./src/skeleton/apis/__mock__/notices.ts","webpack:///./src/pages/auth/containers/LoginPage/index.tsx","webpack:///./src/i18n/index.ts","webpack:///./src/skeleton/components/CopyBlock/index.less","webpack:///./src/skeleton/components/exception/404/index.less","webpack:///./src/skeleton/components/HeaderSearch/index.less","webpack:///./src/pages/userCenter/containers/Bars/index.less","webpack:///./src/skeleton/components/LangSelector/index.less","webpack:///./src/pages/userCenter/containers/Bars/ArticleManagement.less","webpack:///./src/pages/userCenter/containers/PhotoGallery/index.less","webpack:///./src/skeleton/containers/App/index.less","webpack:///./src/skeleton/layouts/index.less","webpack:///./src/skeleton/components/GlobalHeader/index.less","webpack:///./src/pages/userCenter/containers/ArchiveData/index.tsx","webpack:///./src/pages/moCloud/ducks/moCloud.ts","webpack:///./src/skeleton/env/history.ts","webpack:///./src/skeleton/types/index.ts","webpack:///./src/skeleton/components/exception/403/index.tsx","webpack:///./src/skeleton/components/exception/404/index.tsx","webpack:///./src/skeleton/components/index.ts","webpack:///./src/skeleton/layouts/NavContext.tsx","webpack:///./src/assets/logo2.svg","webpack:///./src/skeleton/layouts/NavLayout.tsx","webpack:///./src/skeleton/layouts/index.ts","webpack:///./src/skeleton/env/dev.ts","webpack:///./src/skeleton/env/index.ts","webpack:///./src/skeleton/hooks/pagination.ts","webpack:///./src/skeleton/hooks/state.ts","webpack:///./src/skeleton/hooks/index.ts","webpack:///./src/skeleton/apis/umi/request.ts","webpack:///./src/skeleton/apis/index.ts","webpack:///./src/skeleton/containers/IntervalComponent/index.tsx","webpack:///./src/skeleton/components/HeaderDropdown/index.less","webpack:///../rtw-components/src/decorators/PageHeader/index.less","webpack:///./src/pages/userCenter/containers/ArchiveData/index.less","webpack:///./src/pages/userCenter/containers/SettingUser/index.less","webpack:///./src/index.tsx","webpack:///./src/skeleton/auth/token.ts","webpack:///./src/skeleton/components/NoticeIcon/NoticeList.less"],"names":["module","exports","HeaderDropdown","cls","overlayClassName","restProps","classNames","styles","container","initialState","profile","S","actions","createActions","loadProfile","id","getProfileById","userActions","handleActions","toString","state","action","payload","handle","success","prevState","currentAuthority","key","getAuthority","str","authority","authorityString","localStorage","getItem","JSON","parse","e","setAuthority","proAuthority","setItem","stringify","NoticeList","data","onClick","onClear","title","onViewMore","emptyText","showClear","clearText","viewMoreText","showViewMore","length","className","notFound","src","alt","list","dataSource","renderItem","item","i","itemCls","read","leftIcon","avatar","iconElement","Item","Meta","meta","extra","description","datetime","bottomBar","TabPane","NoticeIcon","visible","onItemClick","tabProps","props","name","onTabChange","tabType","event","handleVisibleChange","onPopupVisibleChange","setState","this","children","loading","panes","React","Children","map","child","count","tabKey","len","msgCount","tabTitle","tab","spinning","delay","tabs","onChange","popupVisible","bell","noticeButtonClass","noticeButton","notificationBox","getNotificationBox","NoticeBellIcon","type","icon","trigger","opened","style","boxShadow","badge","popoverProps","placement","overlay","popover","onVisibleChange","Component","Tab","defaultProps","clearClose","emptyImage","articleList","articleCount","imageList","countArticle","loadArticleList","pageNum","pageSize","article","getArticleList","loadArticleByTags","tags","getArticleByTags","loadArticleCntByCreateAt","getArticleCntByCreateAt","setImageList","imgList","articleActions","total","loadTagList","getTagList","tagActions","tagList","formatDatetime","m","dayjs","isValid","format","UserProfile","username","university","email","address","github","signature","avatarUrl","photos","MoCloudMsg","message","createAt","CountArticle","date","Article","content","images","updateAt","visitTimes","isComponentClass","component","proto","Object","getPrototypeOf","Function","prototype","checkIsInstantiation","target","Target","blogReducer","combineReducers","tag","tagReducer","articleReducer","moCloudReducer","moCloudMsg","moCloudMsgReducer","userReducer","profileReducer","incr","arguments","dec","error","Error","start","isLoading","finish","failure","configReducer","partialReducers","history","common","commonReducer","user","moCloud","blog","router","connectRouter","enhancers","applyMiddleware","routerMiddleware","thunkMiddleware","reduxPackMiddleware","configStore","store","createStore","appendReducer","asyncReducers","replaceReducer","PromiseComp","shouldComponentUpdate","nextProps","nextState","isEqual","setRenderComponent","ok","promise","then","rest","width","height","margin","paddingTop","textAlign","size","getManifest","loader","moyun","getMenus","menus","routes","path","_","compact","umiRequest","get","HOST","updateProfile","patch","status","loginByUsername","password","post","Response","json","postLogin","token","bind","loginByUserToken","getToken","isTokenExpired","setToken","call","logout","window","location","search","reload","getQiniuToken","getDownloadUrl","deleteByKey","addPhoto","url","getMoCloudMsg","addMoCloudMsg","deleteMoCloudMsg","newTag","tagName","deleteTag","tagId","updateTag","_tagName","archiveTags","newArticle","deleteArticle","getArticleById","updateArticle","saveImage","articleId","image","deleteImage","imageId","PageHeader","CheckableTag","IconFont","createFromIconfontCN","scriptUrl","HandleTags","handletype","selectTags","value","checked","toLower","marginRight","t","defaultValue","color","cursor","marginBottom","deleteTags","closable","onClose","RightContent","theme","layout","right","dark","placeholder","formatMessage","onSearch","onPressEnter","href","rel","menu","currentUser","HeaderSearch","timeout","undefined","inputRef","onKeyDown","setTimeout","enterSearchMode","searchMode","focus","leaveSearchMode","debouncePressEnter","defaultOpen","debounce","leading","trailing","open","clearTimeout","inputClass","input","show","headerSearch","onTransitionEnd","propertyName","ref","node","aria-label","onBlur","defaultActiveFirstOption","SelectLang","selectedLang","getLocale","languageLabels","languageIcons","langMenu","selectedKeys","setLocale","locale","role","dropDown","UserDropdown","login","onMenuClick","push","menuHeaderDropdown","defaultMessage","Divider","account","onMouseEnter","onMouseLeave","display","alignItems","justifyContent","footer","loginModal","onCancel","marginLeft","PureComponent","Suspense","lazy","appCache","AppContainer","appLoader","appId","onAppendReducer","app","appModule","reducer","errorInfo","appError","fallback","App","loadApp","cn","withRouter","ArticleListTable","onRefresh","pagination","columns","align","dataIndex","render","r","to","tooltip","c","onConfirm","rowKey","TagsManagementComp","handleTag","onInputChange","renderCard","cover","fontSize","marginTop","showModal","onOk","okButtonProps","disabled","isEmpty","maxLength","allowClear","TagsManagement","connect","Option","BarsComp","from","orderBy","subTitle","filter","Search","RangePicker","dateString","add","onPaginationChange","articlecount","showSizeChanger","onShowSizeChange","onBack","goBack","defaultActiveKey","ArchiveData","showInBars","Bars","SettingUserComp","SettingUser","_state","PhotoGalleryComp","beforeUpload","file","uploadToken","onUploadChange","info","isUploading","response","handleLightBox","__","index","isShowLightBox","currentPhoto","handlePhotoGallery","photo","selectedId","includes","pull","renderPhoto","isEditPhoto","isSelected","top","left","zIndex","position","transform","transition","Group","buttonStyle","Button","border","showUploadList","p","sizes","renderImage","currentIndex","views","source","PhotoGallery","UserProfileComp","avatarName","clickBtn","resp","editSig","padding","editProfile","uploadButton","accept","listType","column","TextArea","maxHeight","back","backgroundColor","renderUserInfo","renderSignature","withLayout","pathname","currentApp","exact","renderRoute","LoginPage","matchedPath","checkPermissions","Exception","Array","isArray","some","Promise","bool","check","NoticeIconView","changeReadState","clickedItem","handleNoticeClear","getNoticeData","notices","newNotices","notice","newNotice","moment","fromNow","todo","processing","urgent","doing","groupBy","getUnreadData","noticeData","unreadMsg","keys","forEach","fetchingNotices","onNoticeVisibleChange","unreadCount","notification","clickClose","LoginPageComp","handleInputValue","handleLogin","__dirname","errors","prefix","Password","block","args","ArchiveDataCom","archiveData","forceFit","borderRadius","a","标签","文章","articles","innerRadius","offsetX","offsetY","lineWidth","stroke","offset","数量","toNumber","日期","scale","tickInterval","loadMoCloudMsg","moCloudActions","createHashHistory","Exception403","background","Exception404","shape","NavContext","createContext","_extends","assign","hasOwnProperty","apply","_ref","createElement","fillRule","fill","d","menuDataRender","menuList","localItem","footerRender","alignContent","NavLayout","_setAuthority","collapse","toggleCollapse","Provider","onAuthorityChange","collapsed","route","logo","siderWidth","navTheme","menuItemRender","menuItemProps","defaultDom","isUrl","startsWith","collapsedButtonRender","_collapsed","breadcrumbRender","routers","breadcrumbName","itemRender","paths","indexOf","join","rightContentRender","rightProps","onCollapse","onMenuHeaderClick","preventDefault","MobileDetect","navigator","userAgent","mobile","useLiteState","useState","setLiteState","useCallback","newState","merge","codeMessage","200","201","202","204","400","401","403","404","406","410","422","500","502","503","504","errorHandler","errorText","ie","statusText","clone","err","reason","code","extend","credentials","smoothscroll","utc","advancedFormat","badMutable","customParseFormat","isMoment","isSameOrAfter","isSameOrBefore","localeData","relativeTime","weekOfYear","weekYear","timeZone","zh","ReactDOM","zhCN","document","getElementById","storedToken","_token","removeItem","lead","jwtDecode","exp","Date","now"],"mappings":"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","file":"index.10ff591f14a5903e8a07.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"appContainer\":\"_2pq01Z2X7C\",\"appCenter\":\"VoWDMg0lT3\",\"flexStart\":\"_1rMGK1pXwP\",\"flexEnd\":\"a4X7BBRQbg\",\"spaceBetween\":\"wA26zRIecR\",\"spaceAround\":\"_1Qa8TKVQCB\",\"button\":\"EUeqAeXNnK\",\"container\":\"_3zGor2VWZe\",\"userInfo\":\"_3wcTbJmBE9\",\"signature\":\"_1h_8cfvto7\",\"sigHeader\":\"_2EbdQGNZuj\",\"editSig\":\"_33S1o-lAi2\",\"sigContent\":\"TDJZbj0bKe\",\"sigBtns\":\"_3LlO2swVcJ\"};","export * from './apis';\nexport * from './auth';\nexport * from './components';\nexport * from './containers';\nexport * from './env';\nexport * from './hocs';\nexport * from './hooks';\nexport * from './layouts';\nexport * from './types';\nexport * from './utils';\n","import { Dropdown } from 'antd';\nimport { DropDownProps } from 'antd/es/dropdown';\nimport classNames from 'classnames';\nimport * as React from 'react';\n\nimport styles from './index.less';\n\ndeclare type OverlayFunc = () => React.ReactNode;\n\nexport interface HeaderDropdownProps extends DropDownProps {\n  overlayClassName?: string;\n  overlay: React.ReactNode | OverlayFunc;\n  placement?:\n    | 'bottomLeft'\n    | 'bottomRight'\n    | 'topLeft'\n    | 'topCenter'\n    | 'topRight'\n    | 'bottomCenter';\n}\n\nconst HeaderDropdown: React.FC<HeaderDropdownProps> = ({\n  overlayClassName: cls,\n  ...restProps\n}) => (\n  <Dropdown\n    overlayClassName={classNames(styles.container, cls)}\n    {...restProps}\n  />\n);\n\nexport default HeaderDropdown;\n","import { createActions, handleActions } from 'redux-actions';\nimport { handle } from 'redux-pack-fsa';\n\nimport { getProfileById } from '@/apis';\nimport * as S from '@/schema';\n\nexport interface IState {\n  profile: S.UserProfile;\n}\n\nconst initialState: IState = {\n  profile: new S.UserProfile(),\n};\n\nexport const actions = createActions({\n  async loadProfile(id: number) {\n    return getProfileById(id);\n  },\n});\n\nexport const userActions = actions;\n\nexport default handleActions<IState, any>(\n  {\n    [actions.loadProfile.toString()](state: IState, action) {\n      const { payload } = action;\n\n      return handle(state, action, {\n        success: (prevState: IState) => ({ ...prevState, profile: payload }),\n      });\n    },\n  },\n  initialState,\n);\n","let currentAuthority: string[] | null = null;\n\nconst key = 'nli-authority';\n\n// use localStorage to store the authority info, which might be sent from server in actual project.\nexport function getAuthority(str?: string): string[] {\n  if (currentAuthority) {\n    return currentAuthority;\n  }\n\n  const authorityString =\n    typeof str === 'undefined' ? localStorage.getItem(key) : str;\n\n  // authorityString could be admin, \"admin\", [\"admin\"]\n  let authority;\n\n  try {\n    if (authorityString) {\n      authority = JSON.parse(authorityString);\n    }\n  } catch (e) {\n    authority = authorityString;\n  }\n\n  if (typeof authority === 'string') {\n    authority = [authority];\n  }\n\n  if (!authority) {\n    authority = ['anonymous'];\n  }\n\n  currentAuthority = authority;\n\n  return authority;\n}\n\nexport function setAuthority(authority: string | string[]): void {\n  const proAuthority = typeof authority === 'string' ? [authority] : authority;\n\n  currentAuthority = proAuthority;\n\n  return localStorage.setItem(key, JSON.stringify(proAuthority));\n}\n","import { Avatar, List } from 'antd';\nimport classNames from 'classnames';\nimport * as React from 'react';\n\nimport { NoticeIconData } from '@/models/global';\n\nimport styles from './NoticeList.less';\n\nexport interface NoticeIconTabProps {\n  count?: number;\n  name?: string;\n  showClear?: boolean;\n  showViewMore?: boolean;\n  style?: React.CSSProperties;\n  title: string;\n  tabKey: string;\n  data?: NoticeIconData[];\n  onClick?: (item: NoticeIconData) => void;\n  onClear?: () => void;\n  emptyText?: string;\n  clearText?: string;\n  viewMoreText?: string;\n  list: NoticeIconData[];\n  onViewMore?: (e: any) => void;\n}\nconst NoticeList: React.SFC<NoticeIconTabProps> = ({\n  data = [],\n  onClick,\n  onClear,\n  title,\n  onViewMore,\n  emptyText,\n  showClear = true,\n  clearText,\n  viewMoreText,\n  showViewMore = false,\n}) => {\n  if (data.length === 0) {\n    return (\n      <div className={styles.notFound}>\n        <img\n          src=\"https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg\"\n          alt=\"not found\"\n        />\n        <div>{emptyText}</div>\n      </div>\n    );\n  }\n  return (\n    <div>\n      <List<NoticeIconData>\n        className={styles.list}\n        dataSource={data}\n        renderItem={(item, i) => {\n          const itemCls = classNames(styles.item, {\n            [styles.read]: item.read,\n          });\n          // eslint-disable-next-line no-nested-ternary\n          const leftIcon = item.avatar ? (\n            typeof item.avatar === 'string' ? (\n              <Avatar className={styles.avatar} src={item.avatar} />\n            ) : (\n              <span className={styles.iconElement}>{item.avatar}</span>\n            )\n          ) : null;\n\n          return (\n            <List.Item\n              className={itemCls}\n              key={item.key || i}\n              onClick={() => onClick && onClick(item)}\n            >\n              <List.Item.Meta\n                className={styles.meta}\n                avatar={leftIcon}\n                title={\n                  <div className={styles.title}>\n                    {item.title}\n                    <div className={styles.extra}>{item.extra}</div>\n                  </div>\n                }\n                description={\n                  <div>\n                    <div className={styles.description}>{item.description}</div>\n                    <div className={styles.datetime}>{item.datetime}</div>\n                  </div>\n                }\n              />\n            </List.Item>\n          );\n        }}\n      />\n      <div className={styles.bottomBar}>\n        {showClear ? (\n          <div onClick={onClear}>\n            {clearText} {title}\n          </div>\n        ) : null}\n        {showViewMore ? (\n          <div\n            onClick={e => {\n              if (onViewMore) {\n                onViewMore(e);\n              }\n            }}\n          >\n            {viewMoreText}\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default NoticeList;\n","import { Badge, Icon, Spin, Tabs } from 'antd';\nimport classNames from 'classnames';\nimport React, { Component } from 'react';\n\nimport { NoticeIconData } from '@/models/global';\n\nimport HeaderDropdown from '../HeaderDropdown';\n\nimport NoticeList, { NoticeIconTabProps } from './NoticeList';\n\nimport styles from './index.less';\n\nconst { TabPane } = Tabs;\n\nexport interface NoticeIconProps {\n  count?: number;\n  bell?: React.ReactNode;\n  className?: string;\n  loading?: boolean;\n  onClear?: (tabName: string, tabKey: string) => void;\n  onItemClick?: (item: NoticeIconData, tabProps: NoticeIconTabProps) => void;\n  onViewMore?: (tabProps: NoticeIconTabProps, e: MouseEvent) => void;\n  onTabChange?: (tabTile: string) => void;\n  style?: React.CSSProperties;\n  onPopupVisibleChange?: (visible: boolean) => void;\n  popupVisible?: boolean;\n  clearText?: string;\n  viewMoreText?: string;\n  clearClose?: boolean;\n  children: React.ReactElement<NoticeIconTabProps>[];\n}\n\nexport default class NoticeIcon extends Component<NoticeIconProps> {\n  public static Tab: typeof NoticeList = NoticeList;\n\n  static defaultProps = {\n    onItemClick: (): void => {},\n    onPopupVisibleChange: (): void => {},\n    onTabChange: (): void => {},\n    onClear: (): void => {},\n    onViewMore: (): void => {},\n    loading: false,\n    clearClose: false,\n    emptyImage:\n      'https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg',\n  };\n\n  state = {\n    visible: false,\n  };\n\n  onItemClick = (item: NoticeIconData, tabProps: NoticeIconTabProps): void => {\n    const { onItemClick } = this.props;\n    if (onItemClick) {\n      onItemClick(item, tabProps);\n    }\n  };\n\n  onClear = (name: string, key: string): void => {\n    const { onClear } = this.props;\n    if (onClear) {\n      onClear(name, key);\n    }\n  };\n\n  onTabChange = (tabType: string): void => {\n    const { onTabChange } = this.props;\n    if (onTabChange) {\n      onTabChange(tabType);\n    }\n  };\n\n  onViewMore = (tabProps: NoticeIconTabProps, event: MouseEvent): void => {\n    const { onViewMore } = this.props;\n    if (onViewMore) {\n      onViewMore(tabProps, event);\n    }\n  };\n\n  getNotificationBox(): React.ReactNode {\n    const { children, loading, clearText, viewMoreText } = this.props;\n    if (!children) {\n      return null;\n    }\n    const panes = React.Children.map(\n      children,\n      (child: React.ReactElement<NoticeIconTabProps>): React.ReactNode => {\n        if (!child) {\n          return null;\n        }\n        const {\n          list,\n          title,\n          count,\n          tabKey,\n          showClear,\n          showViewMore,\n        } = child.props;\n        const len = list && list.length ? list.length : 0;\n        const msgCount = count || count === 0 ? count : len;\n        const tabTitle: string =\n          msgCount > 0 ? `${title} (${msgCount})` : title;\n        return (\n          <TabPane tab={tabTitle} key={title}>\n            <NoticeList\n              clearText={clearText}\n              viewMoreText={viewMoreText}\n              data={list}\n              onClear={(): void => this.onClear(title, tabKey)}\n              onClick={(item): void => this.onItemClick(item, child.props)}\n              onViewMore={(event): void => this.onViewMore(child.props, event)}\n              showClear={showClear}\n              showViewMore={showViewMore}\n              title={title}\n              {...child.props}\n            />\n          </TabPane>\n        );\n      },\n    );\n    return (\n      <>\n        <Spin spinning={loading} delay={300}>\n          <Tabs className={styles.tabs} onChange={this.onTabChange}>\n            {panes}\n          </Tabs>\n        </Spin>\n      </>\n    );\n  }\n\n  handleVisibleChange = (visible: boolean): void => {\n    const { onPopupVisibleChange } = this.props;\n    this.setState({ visible });\n    if (onPopupVisibleChange) {\n      onPopupVisibleChange(visible);\n    }\n  };\n\n  render(): React.ReactNode {\n    const { className, count, popupVisible, bell } = this.props;\n    const { visible } = this.state;\n    const noticeButtonClass = classNames(className, styles.noticeButton);\n    const notificationBox = this.getNotificationBox();\n    const NoticeBellIcon = bell || <Icon type=\"bell\" className={styles.icon} />;\n    const trigger = (\n      <span className={classNames(noticeButtonClass, { opened: visible })}>\n        <Badge\n          count={count}\n          style={{ boxShadow: 'none' }}\n          className={styles.badge}\n        >\n          {NoticeBellIcon}\n        </Badge>\n      </span>\n    );\n    if (!notificationBox) {\n      return trigger;\n    }\n    const popoverProps: {\n      visible?: boolean;\n    } = {};\n    if ('popupVisible' in this.props) {\n      popoverProps.visible = popupVisible;\n    }\n\n    return (\n      <HeaderDropdown\n        placement=\"bottomRight\"\n        overlay={notificationBox}\n        overlayClassName={styles.popover}\n        trigger={['click']}\n        visible={visible}\n        onVisibleChange={this.handleVisibleChange}\n        {...popoverProps}\n      >\n        {trigger}\n      </HeaderDropdown>\n    );\n  }\n}\n","import _ from 'lodash';\nimport { createActions, handleActions } from 'redux-actions';\nimport { handle } from 'redux-pack-fsa';\n\nimport {\n  getArticleByTags,\n  getArticleCntByCreateAt,\n  getArticleList,\n} from '../../../apis';\nimport * as S from '../../../schema';\n\nexport interface IState {\n  articleList: S.Article[];\n  articleCount: number;\n  imageList: S.Image[];\n  countArticle: S.CountArticle[];\n}\n\nconst initialState: IState = {\n  articleList: [],\n  articleCount: 0,\n  imageList: [],\n  countArticle: [new S.CountArticle()],\n};\n\nexport const actions = createActions({\n  async loadArticleList(\n    pageNum: number,\n    pageSize: number,\n    article?: S.ArticleParam,\n  ) {\n    return getArticleList(pageNum, pageSize, article);\n  },\n\n  async loadArticleByTags(pageNum: number, pageSize: number, tags?: S.Tag[]) {\n    return getArticleByTags(pageNum, pageSize, tags);\n  },\n\n  async loadArticleCntByCreateAt() {\n    return getArticleCntByCreateAt();\n  },\n\n  setImageList(imgList: S.Image[]) {\n    return imgList;\n  },\n});\n\nexport const articleActions = actions;\n\nexport default handleActions<IState, any>(\n  {\n    [actions.loadArticleList.toString()](state: IState, action) {\n      const { payload } = action;\n\n      return handle(state, action, {\n        success: (prevState: IState) => ({\n          ...prevState,\n          articleList: payload.list,\n          articleCount: payload.total,\n        }),\n      });\n    },\n    [actions.loadArticleByTags.toString()](state: IState, action) {\n      const { payload } = action;\n\n      return handle(state, action, {\n        success: (prevState: IState) => ({\n          ...prevState,\n          articleList: payload.list,\n          articleCount: payload.total,\n        }),\n      });\n    },\n\n    [actions.loadArticleCntByCreateAt.toString()](state: IState, action) {\n      const { payload } = action;\n\n      return handle(state, action, {\n        success: (prevState: IState) => ({\n          ...prevState,\n          countArticle: payload,\n        }),\n      });\n    },\n\n    [actions.setImageList.toString()](state: IState, action) {\n      const { payload } = action;\n\n      return { ...state, imageList: payload };\n    },\n  },\n  initialState,\n);\n","import { createActions, handleActions } from 'redux-actions';\nimport { handle } from 'redux-pack-fsa';\n\nimport { getTagList } from '@/apis';\nimport * as S from '@/schema';\n\nexport interface IState {\n  tagList: S.Tag[];\n}\n\nconst initialState: IState = {\n  tagList: [],\n};\n\nexport const actions = createActions({\n  async loadTagList() {\n    return getTagList();\n  },\n});\n\nexport const tagActions = actions;\n\nexport default handleActions<IState, any>(\n  {\n    [actions.loadTagList.toString()](state: IState, action) {\n      const { payload } = action;\n\n      return handle(state, action, {\n        success: (prevState: IState) => ({ ...prevState, tagList: payload }),\n      });\n    },\n  },\n  initialState,\n);\n","import dayjs, { Dayjs } from 'dayjs';\n\nexport type Dateable = string | number | Dayjs | undefined;\n\n/** 格式化为标准时间形式 */\nexport function formatDate(m: Dateable) {\n  if (!m || !dayjs(m).isValid()) {\n    return '-';\n  }\n  return dayjs(m).format('YYYY-MM-DD');\n}\n\n/** 格式化为标准时间形式 */\nexport function formatDatetime(m: Dateable) {\n  if (!m || !dayjs(m).isValid()) {\n    return '-';\n  }\n  return dayjs(m).format('YYYY-MM-DD HH:mm:ss');\n}\n\n/** 简略些时间格式 */\nexport function formatDatetimeAsShort(m: Dateable) {\n  if (!m) {\n    return '-';\n  }\n\n  return dayjs(m).format('MM/DD HH:mm');\n}\n\nexport function formatTime(m: Dateable) {\n  if (!m) {\n    return '-';\n  }\n\n  return dayjs(m).format('HH:mm');\n}\n\n/**\n * 获取两个日期间的 Duration\n * @param m1 日期较小值\n * @param m2 日期较大值\n * @param len number 可选参数，保留时间描述位数\n * @param strip boolean 可选参数，剩余时间\n */\n\nexport function formatDurationWithRange(\n  m1: Dateable,\n  m2: Dateable,\n  options: { len?: number; strip?: boolean } = {},\n) {\n  if (!m1 || !m2) {\n    return '-';\n  }\n\n  return formatDuration(dayjs(m2).valueOf() - dayjs(m1).valueOf(), options);\n}\n\nconst MILLISECONDS_SECOND = 1000;\nconst MILLISECONDS_MINUTE = MILLISECONDS_SECOND * 60;\nconst MILLISECONDS_HOUR = MILLISECONDS_MINUTE * 60;\nconst MILLISECONDS_DAY = MILLISECONDS_HOUR * 24;\n\n/**\n * 将某个时间差格式化展示为字符串\n */\nexport function formatDuration(\n  // 这里的 duration 指的是毫秒\n  duration: number,\n  { len = 10, strip = false }: { len?: number; strip?: boolean } = {},\n) {\n  if (!duration) {\n    return '-';\n  }\n\n  let str = '';\n\n  let usedBit = 0;\n\n  const days = Math.floor(duration / MILLISECONDS_DAY);\n  const hours = Math.floor((duration % MILLISECONDS_DAY) / MILLISECONDS_HOUR);\n  const minutes = Math.floor(\n    (duration % MILLISECONDS_HOUR) / MILLISECONDS_MINUTE,\n  );\n  const seconds = Math.floor(\n    (duration % MILLISECONDS_MINUTE) / MILLISECONDS_SECOND,\n  );\n\n  if (days !== 0 && usedBit < len) {\n    str = `${days}d`;\n    usedBit++;\n  }\n\n  if (hours !== 0 && usedBit < len) {\n    str = `${str} ${hours}h`;\n    usedBit++;\n  }\n\n  if (minutes !== 0 && usedBit < len) {\n    str = `${str} ${minutes}m`;\n    usedBit++;\n  }\n\n  if (seconds !== 0 && usedBit < len) {\n    str = `${str} ${seconds}s`;\n  }\n\n  return strip ? str.replace(' ', '') : str;\n}\n","export interface Photo {\n  id: number;\n  name: string;\n  url: string;\n  width: number;\n  height: number;\n}\n\nexport class UserProfile {\n  id: number;\n  username: string;\n  university: string;\n  email: string;\n  address: string;\n  github: string;\n  signature: string;\n  avatarUrl: string;\n  photos: Photo[];\n}\n","export class MoCloudMsg {\n  id: string;\n  message: string;\n  createAt: string;\n}\n","import { Tag } from './tag';\nexport interface ArticleParam {\n  title: string;\n  content: string;\n  tags: Tag[];\n  imageList: string[];\n  createAt: string;\n  from: string;\n  to: string;\n  orderBy: 'createAt' | 'visiTime';\n}\n\nexport class CountArticle {\n  date: string;\n  count: string;\n}\n\nexport interface Image {\n  id?: number;\n  name: string;\n  url: string;\n}\n\nexport class Article {\n  id: number;\n  title: string;\n  content: string;\n  tags: Tag[];\n  images: Image[];\n  createAt: string;\n  updateAt: string;\n  visitTimes: number;\n}\n","export * from './datetime';\nexport * from './helpers';\nexport * from './user';\nexport * from './moCloud';\nexport * from './article';\n","import * as React from 'react';\n\nexport const isComponentClass = (\n  component: React.ComponentClass | React.ReactNode,\n): boolean => {\n  if (!component) return false;\n  const proto = Object.getPrototypeOf(component);\n  if (proto === React.Component || proto === Function.prototype) return true;\n  return isComponentClass(proto);\n};\n\n// Determine whether the incoming component has been instantiated\n// AuthorizedRoute is already instantiated\n// Authorized  render is already instantiated, children is no instantiated\n// Secured is not instantiated\nexport const checkIsInstantiation = (\n  target: React.ComponentClass | React.ReactNode,\n) => {\n  if (isComponentClass(target)) {\n    const Target = target as React.ComponentClass;\n    return (props: any) => <Target {...props} />;\n  }\n  if (React.isValidElement(target)) {\n    return (props: any) => React.cloneElement(target, props);\n  }\n  return () => target;\n};\n","import { combineReducers } from 'redux';\n\nimport articleReducer, { IState as articleState } from './blog';\nimport tagReducer, { IState as tagState } from './tag';\n\nexport interface BlogState {\n  tag: tagState;\n  article: articleState;\n}\n\nexport const blogReducer = combineReducers({\n  tag: tagReducer,\n  article: articleReducer,\n});\n","import { combineReducers } from 'redux';\n\nimport moCloudMsgReducer, { IState as moCloudState } from './moCloud';\n\nexport interface MoCloudState {\n  moCloudMsg: moCloudState;\n}\n\nexport const moCloudReducer = combineReducers({\n  moCloudMsg: moCloudMsgReducer,\n});\n","import { combineReducers } from 'redux';\n\nimport profileReducer, { IState as profileState } from './profile';\n\nexport interface UserState {\n  profile: profileState;\n}\n\nexport const userReducer = combineReducers({\n  profile: profileReducer,\n});\n","import { createActions, handleActions } from 'redux-actions';\nimport { handle } from 'redux-pack-fsa';\n\nexport interface IState {\n  count: number;\n}\n\nconst initialState: IState = {\n  count: 0,\n};\n\nexport const actions = createActions({\n  async incr(step = 1) {\n    return step;\n  },\n\n  async dec(step = 1) {\n    return step;\n  },\n\n  async error() {\n    throw new Error('Error');\n  },\n});\n\nexport const commonActions = actions;\n\nexport default handleActions<IState, any>(\n  {\n    [actions.incr.toString()](state: IState, action) {\n      const { payload } = action;\n\n      return handle(state, action, {\n        start: (prevState: IState) => ({\n          ...prevState,\n          isLoading: true,\n        }),\n        finish: (prevState: IState) => ({ ...prevState, isLoading: false }),\n        success: (prevState: IState) => ({\n          ...prevState,\n          count: prevState.count + payload,\n        }),\n      });\n    },\n\n    [actions.dec.toString()](state: IState, action) {\n      const { payload } = action;\n\n      return handle(state, action, {\n        success: (prevState: IState) => ({\n          ...prevState,\n          count: prevState.count - payload,\n        }),\n      });\n    },\n\n    [actions.error.toString()](state: IState, action) {\n      const { payload } = action;\n      return handle(state, action, {\n        failure: (prevState: IState) => ({ ...prevState, error: payload }),\n      });\n    },\n  },\n  initialState,\n);\n","import { connectRouter } from 'connected-react-router';\nimport { History } from 'history';\nimport { ReducersMapObject, combineReducers } from 'redux';\n\nimport { BlogState, blogReducer } from '@/pages/article/ducks';\nimport { MoCloudState, moCloudReducer } from '@/pages/moCloud/ducks';\nimport { UserState, userReducer } from '@/pages/userCenter/ducks';\n\nimport commonReducer, { IState as CommonState } from './common';\n\nexport interface IState {\n  common: CommonState;\n  user: UserState;\n  moCloud: MoCloudState;\n  blog: BlogState;\n}\n\nexport const configReducer = (partialReducers: ReducersMapObject = {}) => (\n  history: History,\n) =>\n  combineReducers({\n    common: commonReducer,\n    user: userReducer,\n    moCloud: moCloudReducer,\n    blog: blogReducer,\n    router: connectRouter(history),\n    ...partialReducers,\n  });\n","import { routerMiddleware } from 'connected-react-router';\nimport {\n  ReducersMapObject,\n  applyMiddleware,\n  compose,\n  createStore,\n} from 'redux';\nimport { middleware as reduxPackMiddleware } from 'redux-pack-fsa';\nimport thunkMiddleware from 'redux-thunk';\n\nimport { configReducer } from '../../ducks';\n\nimport { history } from './history';\n\ndeclare let __DEV__: boolean;\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: Function;\n  }\n}\n\nconst middlewares = applyMiddleware(\n  routerMiddleware(history),\n  thunkMiddleware,\n  reduxPackMiddleware,\n);\n\nlet enhancers = middlewares;\n\nif (__DEV__) {\n  const composeEnhancers =\n    typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      : compose;\n\n  enhancers = composeEnhancers(middlewares);\n}\n\nexport function configStore(initialState: object = {}) {\n  const store = createStore(\n    configReducer({})(history),\n    initialState,\n    enhancers,\n  );\n\n  function appendReducer(asyncReducers: ReducersMapObject) {\n    store.replaceReducer(configReducer(asyncReducers)(history));\n  }\n\n  return {\n    ...store,\n    appendReducer,\n  };\n}\n\nexport default configStore();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popover\":\"_1meW9_QaaL\",\"noticeButton\":\"_4jtzqyUzMy\",\"icon\":\"_2LsnHXAhIB\",\"badge\":\"_2U8aO-7VXq\",\"tabs\":\"_2TlGpzxVXy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appContainer\":\"_1DBajJr9DF\",\"appCenter\":\"_8eCy08m4LG\",\"flexStart\":\"_2hjyvil_Nr\",\"flexEnd\":\"_32UezkwQEt\",\"spaceBetween\":\"_3S5567pqE-\",\"spaceAround\":\"_2C1-Qu6QoT\",\"button\":\"Cm28ViV_7O\",\"container\":\"_11qBUunHQ9\",\"form\":\"_1_qaQiBXn9\",\"input\":\"_3_nJXZCcGb\",\"loginBtn\":\"_1_dGzLnn-w\"};","import { Spin } from 'antd';\nimport isEqual from 'lodash/isEqual';\nimport * as React from 'react';\n\nimport { isComponentClass } from '../../types/comp';\n\ninterface PromiseRenderProps<T, K> {\n  ok: T;\n  error: K;\n  promise: Promise<boolean>;\n}\n\ninterface PromiseRenderState {\n  component: React.ComponentClass | React.FunctionComponent;\n}\n\nexport default class PromiseComp<T, K> extends React.Component<\n  PromiseRenderProps<T, K>,\n  PromiseRenderState\n> {\n  state: PromiseRenderState = {\n    component: () => null,\n  };\n\n  componentDidMount() {\n    this.setRenderComponent(this.props);\n  }\n\n  shouldComponentUpdate = (\n    nextProps: PromiseRenderProps<T, K>,\n    nextState: PromiseRenderState,\n  ) => {\n    const { component } = this.state;\n    if (!isEqual(nextProps, this.props)) {\n      this.setRenderComponent(nextProps);\n    }\n    if (nextState.component !== component) return true;\n    return false;\n  };\n\n  // set render Component : ok or error\n  setRenderComponent(props: PromiseRenderProps<T, K>) {\n    const ok = this.checkIsInstantiation(props.ok);\n    const error = this.checkIsInstantiation(props.error);\n    props.promise\n      .then(() => {\n        this.setState({\n          component: ok,\n        });\n        return true;\n      })\n      .catch(() => {\n        this.setState({\n          component: error,\n        });\n      });\n  }\n\n  // Determine whether the incoming component has been instantiated\n  // AuthorizedRoute is already instantiated\n  // Authorized  render is already instantiated, children is no instantiated\n  // Secured is not instantiated\n  checkIsInstantiation = (\n    target: React.ReactNode | React.ComponentClass,\n  ): React.FunctionComponent => {\n    if (isComponentClass(target)) {\n      const Target = target as React.ComponentClass;\n      return (props: any) => <Target {...props} />;\n    }\n    if (React.isValidElement(target)) {\n      return (props: any) => React.cloneElement(target, props);\n    }\n    return () => target as React.ReactNode & null;\n  };\n\n  render() {\n    const { component: Component } = this.state;\n    const { ok, error, promise, ...rest } = this.props;\n\n    return Component ? (\n      <Component {...rest} />\n    ) : (\n      <div\n        style={{\n          width: '100%',\n          height: '100%',\n          margin: 'auto',\n          paddingTop: 50,\n          textAlign: 'center',\n        }}\n      >\n        <Spin size=\"large\" />\n      </div>\n    );\n  }\n}\n","import { MenuDataItem } from '@ant-design/pro-layout';\n\nexport const id = 'article';\n\nexport const menu: () => MenuDataItem[] = () => [\n  {\n    path: `${id}/list`,\n    name: '文章列表',\n  },\n  {\n    path: `${id}/new`,\n    name: '新建文章',\n    authority: ['admin'],\n  },\n];\n","import { MenuDataItem } from '@ant-design/pro-layout';\nimport _ from 'lodash';\nimport { ComponentType } from 'react';\n\nimport { menu as articleMenu } from '@/pages/article/meta';\n// import { menu as moyunMenu } from '@/pages/moCloud/meta';\n// import { menu as testMenu } from '@/pages/testModule/meta';\n// import { getToken } from '@/skeleton';\n\n// import { menu as PageAmenu } from '@/pages/page-a/meta';\n// import { Home } from './pages/page-home/index';\n\nexport interface ResolvedModule {\n  default: ComponentType<any>;\n  reducer?: object;\n}\n\nexport interface Module {\n  type: 'page' | 'module' | 'app' | 'widget' | 'extension';\n  component?: React.ComponentType;\n  loader?: () => Promise<ResolvedModule>;\n}\n\n// menifest 包含了所有页面、模块、应用、控件、插件加载方式的声明，在索引时并不严格区分类型，而推荐按照唯一键索引即可，方便迁移。\n// 自动注册为 `/:id` 的路由\n// const token = getToken();\n\nexport const getManifest = () => {\n  return {\n    article: {\n      id: 'article',\n      type: 'app',\n      loader: () => import('./pages/article'),\n    },\n    moyun: {\n      id: 'moyun',\n      type: 'app',\n      loader: () => import('./pages/moCloud'),\n    },\n    module: {\n      id: 'module',\n      type: 'app',\n      loader: () => import('./pages/testModule'),\n    },\n    // 'page-home': {\n    //   id: 'page-home',\n    //   type: 'app',\n    //   component: Home,\n    // },\n  };\n};\n\nexport const getMenus = () => {\n  const mapMenus = (menus: MenuDataItem[]) => {\n    return menus.map(m => ({ ...m }));\n  };\n\n  const routes: MenuDataItem[] = [\n    {\n      key: 'article',\n      icon: 'book',\n      type: 'app',\n      name: '文章',\n      children: mapMenus([...articleMenu()]),\n    },\n    // token && {\n    //   key: 'moyun',\n    //   icon: 'cloud',\n    //   name: '莫云儿',\n    //   authority: ['admin'],\n    //   children: mapMenus([...moyunMenu()]),\n    // },\n    // {\n    //   key: 'module',\n    //   icon: 'cloud',\n    //   name: '测试',\n    //   authority: ['admin'],\n    //   children: mapMenus([...testMenu()]),\n    // },\n    // {\n    //   key: 'page-home',\n    //   icon: 'dashboard',\n    //   path: '/page-home',\n    //   name: 'Home',\n    // },\n  ];\n\n  return { name: 'Root', routes: _.compact(routes) };\n};\n\n// declare global {\n//   interface Window {\n//     __DEV_APP__?: IAppModule;\n//   }\n// }\n\n// 判断是否定义了开发应用\n// if (window.__DEV_APP__) {\n//   _manifest[window.__DEV_APP__.id] = {\n//     ...window.__DEV_APP__,\n//     type: 'app',\n//     loader: () => importApp && importApp(window.__DEV_APP__!.module),\n//   };\n// }\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"QnOC83QFAe\",\"card\":\"_2cgQb0XuWL\",\"cardMeta\":\"_1_6gFXz5WP\",\"newTag\":\"RUBnD3n88i\",\"addIcon\":\"fxabVhb9Mh\"};","import * as S from '@/schema';\nimport { HOST, setAuthority, umiRequest } from '@/skeleton';\nimport { getToken, isTokenExpired, setToken } from '@/skeleton/auth/token';\n\nexport async function getProfileById(id: number): Promise<S.UserProfile> {\n  const { data } = await umiRequest.get<{ data: S.UserProfile }>(\n    `${HOST}/user/profile/${id}`,\n  );\n\n  return data;\n}\n\n/** 更新用户信息 */\nexport async function updateProfile(profile: Partial<S.UserProfile>) {\n  const { status } = await umiRequest.patch<{ status: string }>(\n    `${HOST}/user/update`,\n    {\n      data: profile,\n    },\n  );\n\n  return status === 'ok';\n}\n\nexport async function loginByUsername(username: string, password: string) {\n  const data = await umiRequest.post<{ data: any } | Response>(\n    `${HOST}/user/login`,\n    {\n      data: { username, password },\n    },\n  );\n\n  if (data instanceof Response) {\n    return await data.json();\n  } else {\n    postLogin(data.data.token);\n    return data;\n  }\n}\n\nexport async function loginByUserToken() {\n  // 首先获取 token\n  const token = getToken();\n\n  // 判断是否过期\n  if (isTokenExpired(token, 24 * 3600)) {\n    setToken(null);\n    setAuthority(null);\n  } else {\n    await postLogin(token);\n\n    return;\n  }\n\n  if (!token) {\n    await postLogin(null);\n  }\n}\n\n// 登录后的统一处理\nasync function postLogin(token: string | null) {\n  if (token) {\n    setToken(token);\n    // 获取用户信息并设置权限\n\n    const profile = await getProfileById(1);\n\n    if (!profile) {\n      return;\n    }\n\n    setAuthority('admin');\n  } else {\n    setToken(null);\n    setAuthority(null);\n  }\n}\n\nexport function logout() {\n  setToken(null);\n  setAuthority(null);\n\n  window.location.search = '';\n  // 需要刷新界面，清空 redux\n  window.location.reload();\n}\n\n// 上传文件\nexport async function getQiniuToken() {\n  const { data } = await umiRequest.get<{ data: any }>(`${HOST}/user/upload`);\n\n  return data;\n}\n\n// 获取下载链接\nexport async function getDownloadUrl(key: string) {\n  const { data } = await umiRequest.get<{ data: string }>(\n    `${HOST}/user/download/${key}`,\n  );\n\n  return data;\n}\n\n// 删除指定文件\nexport async function deleteByKey(key: string) {\n  const { status } = await umiRequest.delete<{ status: string }>(\n    `${HOST}/user/delete/${key}`,\n  );\n\n  return status === 'ok';\n}\n\n// 获取指定前缀文件列表\nexport async function getFileByPrefix(prefix: string) {\n  const { data } = await umiRequest.get<{ data: any[] }>(\n    `${HOST}/user/photoGallery/${prefix}`,\n  );\n\n  return data;\n}\n\n// 增加图片\nexport async function addPhoto(name: string, url: string) {\n  const { status } = await umiRequest.post<{ status: string }>(\n    `${HOST}/user/addPhoto`,\n    {\n      data: { name, url },\n    },\n  );\n\n  return status === 'ok';\n}\n","import * as S from '@/schema';\nimport { HOST, umiRequest } from '@/skeleton';\n\n/** 获取所有留言 */\nexport async function getMoCloudMsg(): Promise<S.MoCloudMsg> {\n  const { data } = await umiRequest.get<{ data: S.MoCloudMsg }>(\n    `${HOST}/mocloud/message`,\n  );\n\n  return data;\n}\n\n/** 新增留言 */\nexport async function addMoCloudMsg(message: string, createAt: string) {\n  const { status } = await umiRequest.post<{ status: string }>(\n    `${HOST}/mocloud/newMsg`,\n    { data: { message, createAt } },\n  );\n\n  return status === 'ok';\n}\n\n/** 删除留言 */\nexport async function deleteMoCloudMsg(id: string) {\n  const { status } = await umiRequest.delete<{ status: string }>(\n    `${HOST}/mocloud/delete/${id}`,\n  );\n  return status === 'ok';\n}\n","import * as S from '@/schema';\nimport { HOST, umiRequest } from '@/skeleton';\n\n/** 获取所有标签 */\nexport async function getTagList() {\n  const { data } = await umiRequest.get<{ data: S.Tag[] }>(`${HOST}/tags`);\n\n  return data;\n}\n\n/** 新增标签 */\nexport async function newTag(tagName: string) {\n  const { status } = await umiRequest.post<{ status: string }>(`${HOST}/tags`, {\n    data: { tagName },\n  });\n\n  return status === 'ok';\n}\n\n/** 删除标签 */\nexport async function deleteTag(tagId: number) {\n  const { status } = await umiRequest.delete<{ status: string }>(\n    `${HOST}/tags/${tagId}`,\n  );\n\n  return status === 'ok';\n}\n\n/** 更新标签 */\nexport async function updateTag(tagId: number, _tagName: string) {\n  const { status } = await umiRequest.patch<{ status: string }>(\n    `${HOST}/tags/${tagId}/${_tagName}`,\n  );\n\n  return status === 'ok';\n}\n\n/** 获取 tag 对应 articleId */\nexport async function archiveTags() {\n  const { data } = await umiRequest.get<{ data: S.ArchiveTag[] }>(\n    `${HOST}/archive/tags`,\n  );\n  return data;\n}\n","import * as S from '@/schema';\nimport { HOST, umiRequest } from '@/skeleton';\n\nexport async function newArticle(\n  title: string,\n  tags: S.Tag[],\n  content: string,\n  imageList: S.Image[],\n) {\n  const { status } = await umiRequest.post<{ status: string }>(\n    `${HOST}/article/new`,\n    {\n      data: {\n        article: {\n          title,\n          tags,\n          content,\n        },\n        imageList,\n      },\n    },\n  );\n\n  return status === 'ok';\n}\n\nexport async function getArticleList(\n  pageNum: number,\n  pageSize: number,\n  article?: S.ArticleParam,\n) {\n  const { data } = await umiRequest.post<{ data: S.Article[] }>(\n    `${HOST}/article/list`,\n    {\n      data: {\n        pageNum,\n        pageSize,\n        article,\n      },\n    },\n  );\n\n  return data;\n}\n\nexport async function deleteArticle(id: number) {\n  const { status } = await umiRequest.delete<{ status: string }>(\n    `${HOST}/article/delete/${id}`,\n  );\n\n  return status === 'ok';\n}\n\nexport async function getArticleById(id: number) {\n  const { data } = await umiRequest.get<{ data: S.Article }>(\n    `${HOST}/article/${id}`,\n  );\n\n  return data;\n}\n\nexport async function updateArticle(\n  id: number,\n  title: string,\n  tags: S.Tag[],\n  content: string,\n  imgList: S.Image[],\n) {\n  const { status } = await umiRequest.patch<{ status: string }>(\n    `${HOST}/article/update/${id}`,\n    {\n      data: {\n        title,\n        tags,\n        content,\n        imgList,\n      },\n    },\n  );\n\n  return status === 'ok';\n}\n\nexport async function getArticleByTags(\n  pageNum: number,\n  pageSize: number,\n  tags?: S.Tag[],\n) {\n  const { data } = await umiRequest.post<{ data: S.Article[] }>(\n    `${HOST}/article/list/tags`,\n    {\n      data: { pageNum, pageSize, tags },\n    },\n  );\n\n  return data;\n}\n\nexport async function getArticleCntByCreateAt() {\n  const { data } = await umiRequest.get<{ data: any }>(\n    `${HOST}/archive/createAt`,\n  );\n\n  return data;\n}\n\nexport async function saveImage(articleId: number, image: S.Image) {\n  const { data } = await umiRequest.post<{ data: S.Image }>(\n    `${HOST}/article/save/image/${articleId}`,\n    {\n      data: image,\n    },\n  );\n\n  return data;\n}\n\nexport async function deleteImage(imageId: number) {\n  const { status } = await umiRequest.delete<{ status: string }>(\n    `${HOST}/article/delete/image/${imageId}`,\n  );\n\n  return status === 'ok';\n}\n","export * from './user';\nexport * from './moCloud';\nexport * from './article';\n","import { PageHeader as AntdPageHeader } from 'antd';\nimport { PageHeaderProps as AntdPageHeaderProps } from 'antd/es/page-header';\nimport React from 'react';\n\nimport styles from './index.less';\n\nexport interface PageHeaderProps extends AntdPageHeaderProps {}\n\nexport function PageHeader(props: PageHeaderProps) {\n  return (\n    <div className={styles.container}>\n      <AntdPageHeader {...props} />\n    </div>\n  );\n}\n","import { Icon, Tag } from 'antd';\nimport _ from 'lodash';\nimport * as React from 'react';\n\nimport * as S from '@/schema';\n\nconst { CheckableTag } = Tag;\n\ntype handletype = 'filter' | 'select' | 'show';\n\ninterface HandleTagProps {\n  value: S.Tag;\n  // 外层组件传入的标签列表\n  tagList: S.Tag[];\n  // 是否选中由上层组件控制\n  checked: boolean;\n  handletype: handletype;\n\n  // 选择标签时触发\n  selectTags: (tag: S.Tag) => void;\n  // 关闭标签时触发\n  deleteTags: (tagId: number) => void;\n  onChange: (checked: boolean, value: S.Tag) => Promise<void>;\n}\n\nconst IconFont = Icon.createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_1261840_lnfedak82x.js'\n});\n\ninterface HandleTagState {}\n\nexport class HandleTags extends React.Component<Partial<HandleTagProps>, HandleTagState> {\n  constructor(props: HandleTagProps) {\n    super(props);\n\n    this.state = {};\n  }\n\n  public render() {\n    const { handletype, selectTags, value, onChange, checked } = this.props;\n\n    if (handletype === 'filter') {\n      return (\n        <CheckableTag checked={checked} onChange={checked => onChange(checked, value)}>\n          <IconFont\n            type={\n              checked ? `icon-${_.toLower(value.content)}-copy` : `icon-${_.toLower(value.content)}`\n            }\n            style={{ marginRight: 8 }}\n          />\n          {value.content}\n        </CheckableTag>\n      );\n    } else if (handletype === 'select') {\n      const { tagList } = this.props;\n      return (tagList || []).map(t => (\n        <Tag\n          key={t.id}\n          defaultValue={t.id}\n          color=\"#6874e2\"\n          style={{ cursor: 'pointer', marginBottom: 6 }}\n          onClick={() => selectTags(t)}\n        >\n          {t.content}\n        </Tag>\n      ));\n    } else {\n      const { tagList, deleteTags } = this.props;\n      return (tagList || []).map(t => (\n        <Tag key={t.id} closable={true} onClose={() => deleteTags(t.id)}>\n          {t.content}\n        </Tag>\n      ));\n    }\n  }\n}\n","export * from './decorators';\n","import { Icon, Tooltip } from 'antd';\nimport * as React from 'react';\n\nimport { formatMessage } from '@/i18n';\nimport * as S from '@/schema';\n\n// import { NavContext } from '../../layouts/NavContext';\nimport HeaderSearch from '../HeaderSearch';\nimport SelectLang from '../LangSelector';\n\nimport { NoticeIconView } from './NoticeIconView';\nimport { UserDropdown as User } from './UserDropdown';\n\nimport styles from './index.less';\n\nexport type SiderTheme = 'light' | 'dark';\nexport interface RightContentProps {\n  theme?: SiderTheme;\n  profile: S.UserProfile;\n  layout?: 'sidemenu' | 'topmenu';\n}\n\nexport const RightContent: React.SFC<RightContentProps> = props => {\n  const { theme, layout, profile } = props;\n  let className = styles.right;\n\n  if (theme === 'dark' && layout === 'topmenu') {\n    className = `${styles.right}  ${styles.dark}`;\n  }\n\n  // const navContext = React.useContext(NavContext);\n\n  return (\n    <div className={className}>\n      <HeaderSearch\n        className={`${styles.action} ${styles.search}`}\n        placeholder={formatMessage({\n          id: 'component.globalHeader.search',\n        })}\n        dataSource={[\n          formatMessage({\n            id: 'component.globalHeader.search.example1',\n          }),\n          formatMessage({\n            id: 'component.globalHeader.search.example2',\n          }),\n          formatMessage({\n            id: 'component.globalHeader.search.example3',\n          }),\n        ]}\n        onSearch={value => {\n          console.log('input', value);\n        }}\n        onPressEnter={value => {\n          console.log('enter', value);\n        }}\n      />\n      <Tooltip\n        title={formatMessage({\n          id: 'component.globalHeader.help',\n        })}\n      >\n        <a\n          target=\"_blank\"\n          href=\"https://pro.ant.design/docs/getting-started\"\n          rel=\"noopener noreferrer\"\n          className={styles.action}\n        >\n          <Icon type=\"question-circle-o\" />\n        </a>\n      </Tooltip>\n      <NoticeIconView />\n      <User\n        menu={true}\n        currentUser={{\n          name: profile.username || '匿名',\n          avatarUrl: profile.avatarUrl || 'https://i.pravatar.cc/300',\n        }}\n      />\n      <SelectLang className={styles.action} />\n    </div>\n  );\n};\n","import { AutoComplete, Icon, Input } from 'antd';\nimport { AutoCompleteProps, DataSourceItemType } from 'antd/es/auto-complete';\nimport classNames from 'classnames';\nimport debounce from 'lodash/debounce';\nimport React, { Component } from 'react';\n\nimport styles from './index.less';\n\nexport interface HeaderSearchProps {\n  onPressEnter: (value: string) => void;\n  onSearch: (value: string) => void;\n  onChange: (value: string) => void;\n  onVisibleChange: (b: boolean) => void;\n  className: string;\n  placeholder: string;\n  defaultActiveFirstOption: boolean;\n  dataSource: DataSourceItemType[];\n  defaultOpen: boolean;\n  open?: boolean;\n}\n\ninterface HeaderSearchState {\n  value: string;\n  searchMode: boolean;\n}\n\nexport default class HeaderSearch extends Component<\n  HeaderSearchProps,\n  HeaderSearchState\n> {\n  static defaultProps = {\n    defaultActiveFirstOption: false,\n    onPressEnter: () => {},\n    onSearch: () => {},\n    onChange: () => {},\n    className: '',\n    placeholder: '',\n    dataSource: [] as any[],\n    defaultOpen: false,\n    onVisibleChange: () => {},\n  };\n\n  static getDerivedStateFromProps(props: HeaderSearchProps) {\n    if ('open' in props) {\n      return {\n        searchMode: props.open,\n      };\n    }\n    return null;\n  }\n\n  timeout: number | undefined = undefined;\n\n  inputRef: Input | null = null;\n\n  constructor(props: HeaderSearchProps) {\n    super(props);\n    this.state = {\n      searchMode: props.defaultOpen,\n      value: '',\n    };\n    this.debouncePressEnter = debounce(this.debouncePressEnter, 500, {\n      leading: true,\n      trailing: false,\n    });\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeout);\n  }\n\n  onKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      const { onPressEnter } = this.props;\n      const { value } = this.state;\n      this.timeout = window.setTimeout(() => {\n        onPressEnter(value); // Fix duplicate onPressEnter\n      }, 0);\n    }\n  };\n\n  onChange: AutoCompleteProps['onChange'] = value => {\n    if (typeof value === 'string') {\n      const { onSearch, onChange } = this.props;\n      this.setState({ value });\n      if (onSearch) {\n        onSearch(value);\n      }\n      if (onChange) {\n        onChange(value);\n      }\n    }\n  };\n\n  enterSearchMode = () => {\n    const { onVisibleChange } = this.props;\n    onVisibleChange(true);\n    this.setState({ searchMode: true }, () => {\n      const { searchMode } = this.state;\n      if (searchMode && this.inputRef) {\n        this.inputRef.focus();\n      }\n    });\n  };\n\n  leaveSearchMode = () => {\n    this.setState({\n      searchMode: false,\n      value: '',\n    });\n  };\n\n  debouncePressEnter = () => {\n    const { onPressEnter } = this.props;\n    const { value } = this.state;\n    onPressEnter(value);\n  };\n\n  render() {\n    const { className, placeholder, open, ...restProps } = this.props;\n    const { searchMode, value } = this.state;\n    delete restProps.defaultOpen; // for rc-select not affected\n    const inputClass = classNames(styles.input, {\n      [styles.show]: searchMode,\n    });\n\n    return (\n      <span\n        className={classNames(className, styles.headerSearch)}\n        onClick={this.enterSearchMode}\n        onTransitionEnd={({ propertyName }) => {\n          if (propertyName === 'width' && !searchMode) {\n            const { onVisibleChange } = this.props;\n            onVisibleChange(searchMode);\n          }\n        }}\n      >\n        <Icon type=\"search\" key=\"Icon\" />\n        <AutoComplete\n          key=\"AutoComplete\"\n          {...restProps}\n          className={inputClass}\n          value={value}\n          onChange={this.onChange}\n        >\n          <Input\n            ref={node => {\n              this.inputRef = node;\n            }}\n            aria-label={placeholder}\n            placeholder={placeholder}\n            onKeyDown={this.onKeyDown}\n            onBlur={this.leaveSearchMode}\n          />\n        </AutoComplete>\n      </span>\n    );\n  }\n}\n","import { Icon, Menu } from 'antd';\nimport { ClickParam } from 'antd/es/menu';\nimport classNames from 'classnames';\nimport * as React from 'react';\n\nimport { formatMessage, getLocale, setLocale } from '@/i18n';\n\nimport HeaderDropdown from '../HeaderDropdown';\n\nimport styles from './index.less';\n\ninterface SelectLangProps {\n  className?: string;\n}\nconst SelectLang: React.FC<SelectLangProps> = props => {\n  const { className } = props;\n  const selectedLang = getLocale();\n  const changeLang = ({ key }: ClickParam): void => setLocale(key, false);\n  const locales = ['zh-CN', 'zh-TW', 'en-US', 'pt-BR'];\n  const languageLabels = {\n    'zh-CN': '简体中文',\n    'zh-TW': '繁体中文',\n    'en-US': 'English',\n    'pt-BR': 'Português',\n  };\n  const languageIcons = {\n    'zh-CN': '🇨🇳',\n    'zh-TW': '🇭🇰',\n    'en-US': '🇬🇧',\n    'pt-BR': '🇧🇷',\n  };\n  const langMenu = (\n    <Menu\n      className={styles.menu}\n      selectedKeys={[selectedLang]}\n      onClick={changeLang}\n    >\n      {locales.map(locale => (\n        <Menu.Item key={locale}>\n          <span role=\"img\" aria-label={languageLabels[locale]}>\n            {languageIcons[locale]}\n          </span>{' '}\n          {languageLabels[locale]}\n        </Menu.Item>\n      ))}\n    </Menu>\n  );\n  return (\n    <HeaderDropdown overlay={langMenu} placement=\"bottomRight\">\n      <span className={classNames(styles.dropDown, className)}>\n        <Icon type=\"global\" title={formatMessage({ id: 'navBar.lang' })} />\n      </span>\n    </HeaderDropdown>\n  );\n};\n\nexport default SelectLang;\n","import { Avatar, Icon, Menu, Modal, Spin } from 'antd';\nimport { ClickParam } from 'antd/es/menu';\nimport Texty from 'rc-texty';\nimport 'rc-texty/assets/index.css';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport { logout } from '@/apis';\nimport { CurrentUser } from '@/models/UserModel';\nimport { LoginPage } from '@/pages/auth/containers/LoginPage';\nimport { getToken } from '@/skeleton/auth/token';\nimport { history } from '@/skeleton/env/history';\n\nimport HeaderDropdown from '../HeaderDropdown';\n\nimport styles from './index.less';\n\nexport interface GlobalHeaderRightProps {\n  currentUser?: CurrentUser;\n  menu?: boolean;\n}\n\nexport class UserDropdown extends React.Component<GlobalHeaderRightProps> {\n  state = {\n    visible: false,\n    login: false,\n  };\n\n  onMenuClick = (event: ClickParam) => {\n    const { key } = event;\n\n    if (key === 'logout') {\n      history.push('/');\n      logout();\n      return;\n    } else if (key === 'login') {\n      this.setState({ visible: true });\n      return;\n    } else if (key === 'center') {\n      history.push('/user/profile');\n      return;\n    } else if (key === 'settings') {\n      history.push('/user/setting');\n      return;\n    } else if (key === 'bars') {\n      history.push('/user/bars');\n      return;\n    }\n\n    history.push(`/`);\n  };\n\n  render(): React.ReactNode {\n    const token = getToken();\n    const { currentUser = { avatarUrl: '', name: '' }, menu } = this.props;\n\n    const menuHeaderDropdown = (\n      <Menu\n        className={styles.menu}\n        selectedKeys={[]}\n        onClick={this.onMenuClick}\n      >\n        {menu && token && (\n          <Menu.Item key=\"center\">\n            <Icon type=\"user\" />\n            <FormattedMessage\n              id=\"menu.account.center\"\n              defaultMessage=\"个人中心\"\n            />\n          </Menu.Item>\n        )}\n        {menu && !token && (\n          <Menu.Item key=\"login\">\n            <Icon type=\"login\" />\n            <FormattedMessage id=\"menu.account.login\" defaultMessage=\"登录\" />\n          </Menu.Item>\n        )}\n        {menu && token && (\n          <Menu.Item key=\"settings\">\n            <Icon type=\"setting\" />\n            <FormattedMessage\n              id=\"menu.account.settings\"\n              defaultMessage=\"个人设置\"\n            />\n          </Menu.Item>\n        )}\n        {menu && token && (\n          <Menu.Item key=\"bars\">\n            <Icon type=\"bars\" />\n            <FormattedMessage\n              id=\"menu.account.bars\"\n              defaultMessage=\"后台管理\"\n            />\n          </Menu.Item>\n        )}\n        {menu && token && <Menu.Divider />}\n\n        {menu && token && (\n          <Menu.Item key=\"logout\">\n            <Icon type=\"logout\" />\n            <FormattedMessage id=\"menu.account.logout\" defaultMessage=\"登出\" />\n          </Menu.Item>\n        )}\n      </Menu>\n    );\n\n    return currentUser && currentUser.name ? (\n      token ? (\n        <HeaderDropdown overlay={menuHeaderDropdown}>\n          <span className={`${styles.action} ${styles.account}`}>\n            <Avatar\n              size=\"small\"\n              className={styles.avatar}\n              src={currentUser.avatarUrl}\n              alt=\"avatar\"\n            />\n            <span className={styles.name}>{currentUser.name}</span>\n          </span>\n        </HeaderDropdown>\n      ) : (\n        <>\n          <span\n            className={`${styles.action} ${styles.account}`}\n            onClick={() => this.setState({ visible: true })}\n            onMouseEnter={() => this.setState({ login: true })}\n            onMouseLeave={() => this.setState({ login: false })}\n          >\n            {!this.state.login ? (\n              <div style={{ width: 70 }}>\n                <Avatar\n                  size=\"small\"\n                  className={styles.avatar}\n                  src={currentUser.avatarUrl}\n                  alt=\"avatar\"\n                />\n                <span className={styles.name}>{currentUser.name}</span>\n              </div>\n            ) : (\n              <span\n                style={{\n                  width: 70,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  color: 'rgba(0,0,0,.65)',\n                }}\n              >\n                <Icon style={{ marginRight: 6 }} type=\"login\" />\n                <Texty>登录</Texty>\n              </span>\n            )}\n          </span>\n          <Modal\n            footer={false}\n            closable={false}\n            className={styles.loginModal}\n            visible={this.state.visible}\n            onCancel={() => this.setState({ visible: false })}\n          >\n            <LoginPage />\n          </Modal>\n        </>\n      )\n    ) : (\n      <Spin size=\"small\" style={{ marginLeft: 8, marginRight: 8 }} />\n    );\n  }\n}\n","import { Spin } from 'antd';\nimport cn from 'classnames';\nimport * as React from 'react';\nimport { RouteComponentProps } from 'react-router';\nimport { withRouter } from 'react-router-dom';\n\n// import styles from './index.less';\n// import { Exception } from 'rtw-components';\n\nimport { ResolvedModule } from '../../../manifest';\n\nconst { PureComponent, Suspense, lazy } = React;\n\ninterface IProps extends RouteComponentProps {\n  appId: string;\n  appLoader: () => Promise<ResolvedModule>;\n  className?: string;\n  fallback?: JSX.Element;\n  onAppendReducer: (reducer: { [key: string]: object | undefined }) => void;\n}\n\ninterface IState {\n  appError?: any;\n}\n\n// 应用缓存\nconst appCache = {};\n\n/**\n * 应用懒加载与容错的容器\n */\nclass AppContainer extends PureComponent<IProps, IState> {\n  static defaultProps = {\n    fallback: <Spin />,\n  };\n\n  state: IState = {};\n\n  loadApp() {\n    const { appLoader, appId, onAppendReducer } = this.props;\n\n    if (appCache[appId]) {\n      return appCache[appId];\n    }\n\n    const app = lazy(() =>\n      appLoader().then(appModule => {\n        if ('reducer' in appModule) {\n          onAppendReducer({\n            [appId]: appModule.reducer,\n          });\n        }\n\n        return appModule;\n      }),\n    );\n\n    appCache[appId] = app;\n\n    return app;\n  }\n\n  componentDidCatch(error: object, errorInfo: object) {\n    this.setState({ appError: { error, errorInfo } });\n  }\n\n  // renderErrorPage() {\n  //   const { appError } = this.state;\n\n  //   return <Exception type=\"-1\" {...appError} />;\n  // }\n\n  render() {\n    const { className, fallback, appId } = this.props;\n    // const { appError } = this.state;\n\n    // if (appError) {\n    //   return this.renderErrorPage();\n    // }\n\n    const App = this.loadApp();\n\n    return (\n      <div className={cn(className)}>\n        <Suspense fallback={fallback || <Spin />}>\n          <App appId={appId} />\n        </Suspense>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(AppContainer);\n","import Ellipsis from 'ant-design-pro/lib/Ellipsis';\nimport { Button, Divider, Popconfirm, Table, Tag, message } from 'antd';\nimport { ColumnProps, PaginationConfig } from 'antd/es/table';\nimport dayjs from 'dayjs';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { deleteArticle } from '@/apis';\nimport * as S from '@/schema';\nimport { history } from '@/skeleton';\n\nimport * as styles from './ArticleManagement.less';\n\ninterface ArticleListTableProps {\n  articleList: S.Article[];\n  pagination: PaginationConfig;\n\n  onRefresh: () => void;\n}\n\nexport const ArticleListTable: React.FC<ArticleListTableProps> = ({\n  onRefresh,\n  articleList,\n  pagination,\n}) => {\n  const columns: ColumnProps<S.Article>[] = [\n    {\n      align: 'center',\n      key: 'title',\n      title: '标题',\n      dataIndex: 'title',\n      render: (_, r) => (\n        <Link className={styles.link} to={`/article/detail/${r.id}`}>\n          <Ellipsis length={20} tooltip={true}>\n            {r.title}\n          </Ellipsis>\n        </Link>\n      ),\n    },\n    {\n      align: 'center',\n      key: 'content',\n      title: '内容',\n      dataIndex: 'content',\n      render: t => <Ellipsis length={20}>{t}</Ellipsis>,\n    },\n    {\n      align: 'center',\n      key: 'tags',\n      title: '标签',\n      dataIndex: 'tags',\n      render: (t: S.Tag[]) =>\n        (t || []).map(i => <Tag key={i.id}>{i.content}</Tag>),\n    },\n    {\n      align: 'center',\n      key: 'createAt',\n      title: '创建时间',\n      dataIndex: 'createAt',\n      render: c => dayjs(c).format('YYYY/MM/DD HH:mm'),\n    },\n    {\n      align: 'center',\n      key: 'edit',\n      title: '编辑',\n      render: (_, r) => (\n        <div>\n          <Popconfirm\n            title=\"确定删除吗\"\n            onConfirm={async () => {\n              await deleteArticle(r.id);\n              message.success('删除成功');\n              onRefresh();\n            }}\n          >\n            <Button type=\"link\">删除</Button>\n          </Popconfirm>\n          <Divider type=\"vertical\" />\n          <Button\n            type=\"link\"\n            onClick={() => history.push(`/article/edit/${r.id}`)}\n          >\n            编辑\n          </Button>\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <div className={styles.container}>\n      <Table<S.Article>\n        rowKey=\"id\"\n        columns={columns}\n        pagination={pagination}\n        dataSource={articleList}\n      />\n    </div>\n  );\n};\n","import { Card, Icon, Input, Modal, Popconfirm, message } from 'antd';\nimport _ from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { RouteComponentProps, withRouter } from 'react-router';\n\nimport { deleteTag, newTag, updateTag } from '@/apis';\nimport { IState } from '@/ducks';\nimport { tagActions } from '@/pages/article/ducks/tag';\nimport * as S from '@/schema';\n\nimport * as styles from './TagsManagement.less';\n\nconst IconFont = Icon.createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_1261840_lnfedak82x.js',\n});\n\nexport interface TagsManagementProps extends RouteComponentProps {\n  tagList: S.Tag[];\n  loadTagList: () => void;\n}\n\nexport interface TagsManagementState {\n  visible: boolean;\n  tagName: string;\n  [key: string]: boolean | any;\n}\n\nexport class TagsManagementComp extends React.Component<\n  TagsManagementProps,\n  TagsManagementState\n> {\n  constructor(props: TagsManagementProps) {\n    super(props);\n\n    this.state = {\n      tagName: '',\n      visible: false,\n    };\n  }\n\n  componentDidMount() {\n    this.onRefresh();\n  }\n\n  onRefresh = () => {\n    this.props.loadTagList();\n  };\n\n  deleteTags = async (tagId: number) => {\n    await deleteTag(tagId);\n    this.onRefresh();\n  };\n\n  handleTag = async (type: 'new' | 'edit', tagId?: number) => {\n    if (type === 'new') {\n      await newTag(this.state.tagName);\n      this.onRefresh();\n      this.setState({ tagName: '', visible: false });\n      message.success('创建成功');\n    } else {\n      await updateTag(tagId, this.state.tagName);\n      await this.setState({ tagName: '', [tagId]: false });\n      this.onRefresh();\n      message.success('编辑成功');\n    }\n  };\n\n  onInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ tagName: e.target.value });\n  };\n\n  renderCard = (tag: S.Tag) => {\n    const actions: React.ReactNode[] = [\n      !this.state[tag.id] ? (\n        <Popconfirm\n          key=\"delete\"\n          title=\"确定删除吗\"\n          onConfirm={() => this.deleteTags(tag.id)}\n        >\n          <IconFont type=\"icon-delete\" />\n        </Popconfirm>\n      ) : (\n        <IconFont\n          type=\"icon-check\"\n          onClick={() => this.handleTag('edit', tag.id)}\n        />\n      ),\n      !this.state[tag.id] ? (\n        <IconFont\n          key=\"icon-edit\"\n          type=\"icon-edit3\"\n          onClick={() =>\n            this.setState({ [tag.id]: true, tagName: tag.content })\n          }\n        />\n      ) : (\n        <IconFont\n          type=\"icon-cancel\"\n          onClick={() => this.setState({ [tag.id]: false, tagName: '' })}\n        />\n      ),\n    ];\n    return (\n      <Card\n        key={tag.id}\n        actions={actions}\n        style={{ width: 200 }}\n        className={styles.card}\n        cover={\n          <IconFont\n            type={`icon-${_.toLower(tag.content)}`}\n            style={{ fontSize: 80, marginTop: 16 }}\n          />\n        }\n      >\n        {!this.state[tag.id] && (\n          <Card.Meta className={styles.cardMeta} title={tag.content} />\n        )}\n        {this.state[tag.id] && (\n          <Input\n            size=\"small\"\n            onChange={this.onInputChange}\n            defaultValue={this.state.tagName}\n          />\n        )}\n      </Card>\n    );\n  };\n\n  showModal = () => {\n    const { visible, tagName } = this.state;\n\n    return (\n      <Modal\n        title=\"创建标签\"\n        closable={false}\n        visible={visible}\n        onOk={() => this.handleTag('new')}\n        onCancel={() => this.setState({ visible: false })}\n        okButtonProps={{ disabled: _.isEmpty(tagName) }}\n      >\n        <Input\n          maxLength={20}\n          value={tagName}\n          allowClear={true}\n          style={{ height: 32 }}\n          placeholder=\"请输入标签名\"\n          onChange={this.onInputChange}\n        />\n      </Modal>\n    );\n  };\n\n  render() {\n    const { tagList } = this.props;\n\n    return (\n      <div className={styles.container}>\n        {(tagList || []).map(t => this.renderCard(t))}\n        <div\n          className={styles.newTag}\n          onClick={() => this.setState({ visible: true })}\n        >\n          <IconFont style={{ fontSize: 85 }} type=\"icon-add1\" />\n        </div>\n        {this.showModal()}\n      </div>\n    );\n  }\n}\n\nexport const TagsManagement = connect(\n  (state: IState) => ({\n    tagList: state.blog.tag.tagList,\n  }),\n  {\n    loadTagList: tagActions.loadTagList,\n  },\n)(withRouter(TagsManagementComp));\n","import { DatePicker, Input, Select, Tabs } from 'antd';\nimport dayjs from 'dayjs';\nimport _ from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\n\nimport { IState } from '@/ducks';\nimport { articleActions } from '@/pages/article/ducks/blog';\nimport { tagActions } from '@/pages/article/ducks/tag';\nimport * as S from '@/schema';\nimport { history } from '@/skeleton';\nimport { PageHeader } from 'rtw-components/src';\n\nimport { ArchiveData } from '../ArchiveData';\n\nimport { ArticleListTable } from './ArticleManagement';\nimport { TagsManagement } from './TagsManagement';\n\nimport * as styles from './index.less';\n\nconst { TabPane } = Tabs;\nconst { Option } = Select;\n\nexport interface BarsProps {\n  tagList: S.Tag[];\n  articlecount: number;\n  articleList: S.Article[];\n\n  loadTagList: () => void;\n  loadArticleList: (\n    pageNum: number,\n    pageSize: number,\n    article?: Partial<S.ArticleParam>,\n  ) => void;\n}\n\nexport interface BarsState {\n  subTitle: string;\n  tags: S.Tag[];\n  title: string;\n  pageNum: number;\n  pageSize: number;\n  from: string;\n  to: string;\n}\n\nexport class BarsComp extends React.Component<BarsProps, BarsState> {\n  constructor(props: BarsProps) {\n    super(props);\n\n    this.state = {\n      subTitle: '文章管理',\n      tags: [],\n      title: null,\n      pageNum: 0,\n      pageSize: 10,\n      from: null,\n      to: null,\n    };\n  }\n\n  componentDidMount() {\n    this.onRefresh();\n  }\n\n  onRefresh = () => {\n    const { pageNum, pageSize, title, tags, from, to } = this.state;\n\n    this.props.loadTagList();\n    this.props.loadArticleList(pageNum, pageSize, {\n      title,\n      tags,\n      from,\n      to,\n      orderBy: 'createAt',\n    });\n  };\n\n  onTabChange = (key: string) => {\n    this.setState({ subTitle: key });\n  };\n\n  filter = () => {\n    const { tagList } = this.props;\n    const { pageNum, pageSize, title, tags, from, to } = this.state;\n    return (\n      <div className={styles.filter}>\n        <Input.Search\n          allowClear={true}\n          placeholder=\"文章标题\"\n          style={{ width: 300 }}\n          onSearch={(title: string) => {\n            this.setState({ title });\n            this.props.loadArticleList(pageNum, pageSize, {\n              title,\n              tags,\n              from,\n              to,\n            });\n          }}\n        />\n        <Select\n          allowClear={true}\n          style={{ width: 100, margin: '0 18px' }}\n          onChange={(tagId: number) => {\n            this.setState({\n              tags: tagId ? tagList.filter(t => t.id === tagId) : [],\n            });\n            this.props.loadArticleList(pageNum, pageSize, {\n              from,\n              to,\n              title,\n              tags: tagId ? tagList.filter(t => t.id === tagId) : [],\n            });\n          }}\n        >\n          {(tagList || []).map(t => (\n            <Option value={t.id} key={t.id}>\n              {t.content}\n            </Option>\n          ))}\n        </Select>\n        <DatePicker.RangePicker\n          allowClear={true}\n          onChange={(_: any, dateString: string[]) => {\n            this.setState({\n              from: dateString[0] ? dateString[0] : '',\n              to: dateString[1]\n                ? dayjs(dateString[1])\n                    .add(1, 'day')\n                    .format('YYYY-MM-DD')\n                : '',\n            });\n            this.props.loadArticleList(pageNum, pageSize, {\n              title,\n              tags,\n              from: dateString[0] ? dateString[0] : '',\n              to: dateString[1]\n                ? dayjs(dateString[1])\n                    .add(1, 'day')\n                    .format('YYYY-MM-DD')\n                : '',\n            });\n          }}\n        />\n      </div>\n    );\n  };\n\n  onPaginationChange = (pageNum: number, pageSize: number) => {\n    const { tags, title, from, to } = this.state;\n    this.setState({ pageNum: pageNum - 1, pageSize });\n    this.props.loadArticleList(pageNum - 1, pageSize, {\n      tags,\n      title,\n      from,\n      to,\n    });\n  };\n\n  render() {\n    const { subTitle } = this.state;\n    const { articlecount } = this.props;\n    const pagination = {\n      total: articlecount,\n      showSizeChanger: true,\n      onChange: this.onPaginationChange,\n      onShowSizeChange: this.onPaginationChange,\n    };\n\n    return (\n      <div className={styles.container}>\n        <PageHeader\n          title=\"后台管理\"\n          subTitle={subTitle}\n          className={styles.pageHeader}\n          onBack={() => history.goBack()}\n        />\n        {this.filter()}\n        <Tabs defaultActiveKey=\"文章管理\" onChange={this.onTabChange}>\n          <TabPane tab=\"文章管理\" key=\"文章管理\" style={{ paddingTop: 12 }}>\n            {/* 文章管理 */}\n            <ArticleListTable\n              onRefresh={this.onRefresh}\n              articleList={this.props.articleList}\n              pagination={pagination}\n            />\n          </TabPane>\n          <TabPane tab=\"标签管理\" key=\"标签管理\">\n            {/* 标签管理 */}\n            <TagsManagement />\n          </TabPane>\n          <TabPane tab=\"统计分析\" key=\"统计分析\">\n            <ArchiveData showInBars={true} />\n          </TabPane>\n        </Tabs>\n      </div>\n    );\n  }\n}\n\nexport const Bars = connect(\n  (state: IState) => ({\n    tagList: state.blog.tag.tagList,\n    articleList: state.blog.article.articleList,\n    articlecount: state.blog.article.articleCount,\n  }),\n  {\n    loadTagList: tagActions.loadTagList,\n    loadArticleList: articleActions.loadArticleList,\n  },\n)(BarsComp);\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { RouteComponentProps, withRouter } from 'react-router';\n\nimport { IState } from '@/ducks';\n\nimport * as styles from './index.less';\n\nexport interface SettingUserProps extends RouteComponentProps {}\n\nexport interface SettingUserState {}\n\nclass SettingUserComp extends React.Component<\n  SettingUserProps,\n  SettingUserState\n> {\n  constructor(props: SettingUserProps) {\n    super(props);\n\n    this.state = {};\n  }\n\n  render() {\n    return <div className={styles.container}>SettingUser</div>;\n  }\n}\n\nexport const SettingUser = connect(\n  (_state: IState) => ({}),\n  {},\n)(withRouter(SettingUserComp));\n","import { Button, Icon, Radio, Upload, message } from 'antd';\nimport { RcFile, UploadChangeParam } from 'antd/lib/upload/interface';\nimport _ from 'lodash';\nimport * as React from 'react';\nimport Carousel, { Modal, ModalGateway } from 'react-images';\nimport Gallery from 'react-photo-gallery';\nimport { connect } from 'react-redux';\nimport { RouteComponentProps, withRouter } from 'react-router';\n\nimport { addPhoto, getDownloadUrl, getQiniuToken } from '@/apis';\nimport { IState } from '@/ducks';\nimport * as S from '@/schema';\n\nimport * as styles from './index.less';\n\nconst IconFont = Icon.createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_1261840_61nija66ljl.js',\n});\n\nexport interface PhotoGalleryProps extends RouteComponentProps {\n  photos: S.Photo[];\n  onRefresh: () => void;\n}\n\nexport interface PhotoGalleryState {\n  // 上传文件名称\n  key?: string;\n  uploadToken?: string;\n\n  selectedId: number[];\n  currentPhoto: number;\n  isUploading: boolean;\n  isShowLightBox: boolean;\n  isEditPhoto: boolean;\n}\n\nexport class PhotoGalleryComp extends React.Component<\n  PhotoGalleryProps,\n  PhotoGalleryState\n> {\n  constructor(props: PhotoGalleryProps) {\n    super(props);\n\n    this.state = {\n      selectedId: [],\n      currentPhoto: 0,\n      isEditPhoto: false,\n      isUploading: false,\n      isShowLightBox: false,\n    };\n  }\n\n  beforeUpload = async (file: RcFile): Promise<any> => {\n    const isLt10M = file.size / 1024 / 1024 < 10;\n\n    if (!isLt10M) {\n      message.error('最大上传10M');\n      return false;\n    }\n    const uploadToken = await getQiniuToken();\n\n    this.setState({ uploadToken, key: file.name });\n  };\n\n  onUploadChange = async (info: UploadChangeParam) => {\n    if (info.file.status === 'uploading') {\n      this.setState({ isUploading: true });\n    }\n    if (info.file.status !== 'uploading') {\n      this.setState({ isUploading: false });\n    }\n    if (info.file.status === 'done') {\n      message.success('上传成功');\n      const url = await getDownloadUrl(info.file.response.key);\n      await addPhoto(info.file.name, url);\n      this.props.onRefresh();\n    }\n  };\n\n  handleLightBox = (__: any, { index }: { index: number }) => {\n    console.log('index', index);\n    this.setState({ isShowLightBox: true, currentPhoto: index });\n  };\n\n  handlePhotoGallery = (photo: any) => {\n    const { selectedId } = this.state;\n\n    if (_.includes(selectedId, photo.id)) {\n      this.setState({ selectedId: _.pull(selectedId, photo.id) }, () =>\n        console.log(this.state.selectedId),\n      );\n    } else {\n      selectedId.push(photo.id);\n      this.setState({ selectedId }, () => console.log(this.state.selectedId));\n    }\n  };\n\n  renderPhoto = ({ index, photo }: any) => {\n    const { selectedId, isEditPhoto } = this.state;\n    const imgStyle = {\n      transition:\n        'transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s',\n    };\n    const selectedImgStyle = {\n      transform: 'translateZ(0px) scale3d(0.9, 0.9, 1)',\n      transition:\n        'transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s',\n    };\n\n    const isSelected = _.includes(selectedId, photo.id);\n\n    const iconStyle: any = { display: 'none' };\n    const selectedIconStyle = {\n      top: '0',\n      left: '0',\n      zIndex: '1',\n      fontSize: 24,\n      position: 'absolute',\n    };\n\n    return (\n      <div key={index} className={styles.renderPhoto}>\n        <IconFont\n          style={isSelected ? selectedIconStyle : iconStyle}\n          type=\"icon-check4\"\n        />\n        <img\n          style={_.includes(selectedId, photo.id) ? selectedImgStyle : imgStyle}\n          src={photo.src}\n          width={photo.width}\n          height={photo.height}\n          onClick={\n            isEditPhoto\n              ? () => this.handlePhotoGallery(photo)\n              : () => this.handleLightBox(_, { index })\n          }\n        />\n      </div>\n    );\n  };\n\n  render() {\n    const { photos } = this.props;\n    const { uploadToken, key } = this.state;\n\n    return (\n      <div className={styles.container}>\n        <div style={{ margin: '4px 20px 12px' }}>\n          <Radio.Group\n            buttonStyle=\"solid\"\n            defaultValue={false}\n            onChange={e =>\n              this.setState({\n                isEditPhoto: e.target.value,\n                selectedId: e.target.value ? this.state.selectedId : [],\n              })\n            }\n          >\n            <Radio.Button value={false}>预览</Radio.Button>\n            <Radio.Button value={true}>编辑</Radio.Button>\n          </Radio.Group>\n          {this.state.isEditPhoto && (\n            <Button type=\"danger\" style={{ marginLeft: '20px' }}>\n              删除\n            </Button>\n          )}\n          <Upload\n            style={{ border: '1px solid red' }}\n            showUploadList={false}\n            action=\"http://upload.qiniup.com\"\n            onChange={this.onUploadChange}\n            beforeUpload={this.beforeUpload}\n            data={{ token: uploadToken, key }}\n          >\n            <Button style={{ marginLeft: '20px' }}>\n              {this.state.isUploading ? (\n                <Icon type=\"loading\" />\n              ) : (\n                <Icon type=\"upload\" />\n              )}\n              上传图片\n            </Button>\n          </Upload>\n        </div>\n        <Gallery\n          margin={6}\n          photos={(photos || []).map(p => ({\n            id: p.id,\n            src: p.url,\n            width: 1,\n            height: 1,\n            sizes: ['(min-width: 480px) 50vw,(min-width: 1024px) 33.3vw,100vw'],\n          }))}\n          renderImage={this.renderPhoto}\n        />\n\n        <ModalGateway>\n          {this.state.isShowLightBox && (\n            <Modal\n              onClose={() =>\n                this.setState({ currentPhoto: 0, isShowLightBox: false })\n              }\n            >\n              <Carousel\n                currentIndex={this.state.currentPhoto}\n                views={(photos || []).map(p => ({ source: p.url }))}\n              />\n            </Modal>\n          )}\n        </ModalGateway>\n      </div>\n    );\n  }\n}\n\nexport const PhotoGallery = connect(\n  (_state: IState) => ({}),\n  {},\n)(withRouter(PhotoGalleryComp));\n","import {\n  Avatar,\n  Badge,\n  Button,\n  Descriptions,\n  Icon,\n  Input,\n  Upload,\n  message,\n} from 'antd';\nimport { RcFile } from 'antd/lib/upload';\nimport { UploadChangeParam } from 'antd/lib/upload/interface';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\n\nimport { getDownloadUrl, getQiniuToken, updateProfile } from '@/apis';\nimport { IState } from '@/ducks';\nimport * as S from '@/schema';\nimport { PageHeader } from 'rtw-components/src';\n\nimport { userActions } from '../../ducks/profile';\nimport { PhotoGallery } from '../PhotoGallery';\n\nimport * as styles from './index.less';\n\nconst IconFont = Icon.createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_1261840_kice0w2939.js',\n});\n\nexport interface UserProfileProps {\n  profile: S.UserProfile;\n\n  loadProfile: (id: number) => void;\n}\n\nexport interface UserProfileState {\n  editSig: boolean;\n  isLoading: boolean;\n\n  token?: string;\n  signature?: string;\n  avatarName?: string;\n  [key: string]: boolean | string;\n}\n\nexport class UserProfileComp extends React.Component<\n  UserProfileProps,\n  UserProfileState\n> {\n  constructor(props: UserProfileProps) {\n    super(props);\n\n    this.state = {\n      editSig: false,\n      isLoading: false,\n    };\n  }\n\n  componentDidMount() {\n    this.onRefresh();\n  }\n\n  onRefresh = () => {\n    this.props.loadProfile(1);\n  };\n\n  renderUserInfo() {\n    const { profile } = this.props;\n\n    if (!profile) {\n      return;\n    }\n\n    const editProfile = (key: string) => (\n      <Icon\n        type=\"edit\"\n        style={{ marginLeft: 12, cursor: 'pointer' }}\n        onClick={() => this.setState({ [`isEdit-${key}`]: true })}\n      />\n    );\n\n    const renderItem = (key: string) => (\n      <div\n        style={{\n          display: 'flex',\n          cursor: 'pointer',\n          padding: '2px 12px',\n          alignItems: 'center',\n          justifyContent: 'flex-start',\n        }}\n        onMouseEnter={() => this.setState({ [`show-${key}`]: true })}\n        onMouseLeave={() => this.setState({ [`show-${key}`]: false })}\n      >\n        <IconFont type={`icon-${key}`} style={{ marginRight: 8 }} />\n        {this.state[`isEdit-${key}`] ? (\n          <>\n            <Input\n              size=\"small\"\n              defaultValue={profile[key]}\n              onChange={e => this.setState({ [key]: e.target.value })}\n            />\n            <IconFont\n              type=\"icon-check\"\n              style={{ margin: '0 12px' }}\n              onClick={async () => {\n                const resp = await updateProfile({ [key]: this.state[key] });\n                if (resp) {\n                  await this.onRefresh();\n                  this.setState({\n                    [`show-${key}`]: false,\n                    [`isEdit-${key}`]: false,\n                  });\n                  message.success('修改成功');\n                } else {\n                  message.success('修改失败');\n                }\n              }}\n            />\n            <IconFont\n              type=\"icon-cancel\"\n              onClick={() =>\n                this.setState({\n                  [`show-${key}`]: false,\n                  [`isEdit-${key}`]: false,\n                })\n              }\n            />\n          </>\n        ) : (\n          <>\n            {profile[key] || '-'}\n            {this.state[`show-${key}`] && editProfile(key)}\n          </>\n        )}\n      </div>\n    );\n\n    const uploadButton = (\n      <div>\n        <Icon type={this.state.isLoading ? 'loading' : 'plus'} />\n        <div className=\"ant-upload-text\">Upload</div>\n      </div>\n    );\n\n    return (\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'felx-start',\n          alignItems: 'center',\n        }}\n      >\n        <div style={{ marginRight: 24, padding: '24px 0' }}>\n          <Upload\n            accept=\"image/*\"\n            listType=\"picture-card\"\n            showUploadList={false}\n            onChange={this.onUploadChange}\n            beforeUpload={this.beforeUpload}\n            action=\"http://upload.qiniup.com\"\n            data={{ token: this.state.token }}\n          >\n            {!profile.avatarUrl ? (\n              uploadButton\n            ) : (\n              <Avatar size={150} src={profile.avatarUrl} />\n            )}\n          </Upload>\n        </div>\n        <Descriptions\n          column={1}\n          style={{ width: 300, padding: '24px ' }}\n          title={profile.username || '-'}\n        >\n          <Descriptions.Item>{renderItem('address')}</Descriptions.Item>\n          <Descriptions.Item>{renderItem('university')}</Descriptions.Item>\n          <Descriptions.Item>{renderItem('email')}</Descriptions.Item>\n          <Descriptions.Item>{renderItem('github')}</Descriptions.Item>\n        </Descriptions>\n      </div>\n    );\n  }\n\n  beforeUpload = async (file: RcFile): Promise<any> => {\n    if (file.size / 1024 / 1024 > 10) {\n      message.error('上传图片不得大于10M');\n      return false;\n    }\n    const token = await getQiniuToken();\n    this.setState({ token, avatarName: file.name });\n  };\n\n  onUploadChange = async (info: UploadChangeParam) => {\n    if (info.file.status === 'uploading') {\n      this.setState({ isLoading: true });\n      return;\n    }\n    if (info.file.status === 'done') {\n      this.setState({ isLoading: false });\n      const avatarUrl = await getDownloadUrl(info.file.response.key);\n      await updateProfile({ avatarUrl });\n      this.onRefresh();\n      return;\n    }\n  };\n\n  clickBtn = async (type: 'confirm' | 'cancel') => {\n    if (type === 'cancel') {\n      this.setState({ signature: '', editSig: false });\n    } else {\n      const { signature } = this.state;\n      const resp = await updateProfile({ signature });\n      if (resp) {\n        await this.setState({ editSig: !resp });\n        this.onRefresh();\n      }\n    }\n  };\n\n  renderSignature() {\n    const { profile } = this.props;\n    return (\n      <div className={styles.signature}>\n        <div className={styles.sigHeader}>\n          <div>\n            <Badge color=\"#ff5f57\" />\n            <Badge color=\"#ffbc2e\" />\n            <Badge color=\"#28ca42\" />\n          </div>\n          <div\n            className={styles.editSig}\n            onClick={() => this.setState({ editSig: true })}\n          >\n            <Icon type=\"edit\" style={{ marginRight: 4 }} />\n            编辑\n          </div>\n        </div>\n        <div className={styles.sigContent}>\n          {!this.state.editSig ? (\n            <span>\n              {profile.signature ? profile.signature : '添加个性签名'}\n            </span>\n          ) : (\n            <>\n              <Input.TextArea\n                style={{ maxHeight: 100 }}\n                onChange={e => this.setState({ signature: e.target.value })}\n                defaultValue={profile.signature ? profile.signature : ''}\n              />\n              <div className={styles.sigBtns}>\n                <Button\n                  style={{ fontSize: 12 }}\n                  onClick={() => this.clickBtn('cancel')}\n                  size=\"small\"\n                >\n                  取消\n                </Button>\n                &nbsp;\n                <Button\n                  style={{ fontSize: 12 }}\n                  onClick={() => this.clickBtn('confirm')}\n                  size=\"small\"\n                >\n                  确认\n                </Button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { profile } = this.props;\n\n    return (\n      <div className={styles.container}>\n        <PageHeader\n          title=\"个人中心\"\n          onBack={() => history.back()}\n          style={{ backgroundColor: '#fff' }}\n        />\n        <div className={styles.userInfo}>\n          {this.renderUserInfo()}\n          {this.renderSignature()}\n        </div>\n        <div className={styles.content}>\n          <PhotoGallery photos={profile.photos} onRefresh={this.onRefresh} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport const UserProfile = connect(\n  (state: IState) => ({\n    profile: state.user.profile.profile,\n  }),\n  {\n    loadProfile: userActions.loadProfile,\n  },\n)(UserProfileComp);\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Route, RouteComponentProps, Switch } from 'react-router';\nimport { withRouter } from 'react-router-dom';\n\nimport { LoginPage } from '@/pages/auth/containers/LoginPage';\nimport { Bars } from '@/pages/userCenter/containers/Bars';\nimport { SettingUser } from '@/pages/userCenter/containers/SettingUser';\nimport { UserProfile } from '@/pages/userCenter/containers/UserProfile';\nimport { Exception403, Exception404, NavLayout } from '@/skeleton';\nimport { getToken } from '@/skeleton/auth/token';\nimport store from '@/skeleton/env/store';\n\nimport { Module, getManifest, getMenus } from '../../../manifest';\nimport AppContainer from '../AppContainer';\n\nimport * as styles from './index.less';\n\nexport interface IAppProps extends RouteComponentProps {}\n\nexport interface IAppState {}\n\nexport class App extends React.Component<IAppProps, IAppState> {\n  constructor(props: IAppProps) {\n    super(props);\n\n    this.state = {};\n  }\n\n  renderRoute(appId: string, app: Module) {\n    if (!appId) {\n      return;\n    }\n\n    if (app.component) {\n      return <Route key={appId} path={`/${appId}`} component={app.component} />;\n    }\n\n    if (!app.loader || typeof app.loader !== 'function') {\n      throw new Error(`${appId} loader is not defined or defined wrongly`);\n    }\n\n    return (\n      <Route\n        key={appId}\n        path={`/${appId}`}\n        component={() => (\n          <AppContainer\n            appId={appId}\n            appLoader={app.loader!}\n            onAppendReducer={store.appendReducer}\n          />\n        )}\n      />\n    );\n  }\n\n  render() {\n    const { location } = this.props;\n    const rootMenu = getMenus();\n    const routes = rootMenu.routes;\n    const token = getToken();\n\n    const withLayout = location.pathname !== '/login';\n\n    const currentApp = (\n      <Switch>\n        <Route exact={true} path=\"/\">\n          <Redirect to={routes[0].children[0].path} />\n        </Route>\n        {routes.map(r =>\n          this.renderRoute(r && r.key, r && getManifest()[r.key]),\n        )}\n        <Route exact={true} path={'/login'} component={LoginPage} />\n        {token && (\n          <Route exact={true} path={'/user/profile'} component={UserProfile} />\n        )}\n        {token && (\n          <Route exact={true} path={`/user/setting`} component={SettingUser} />\n        )}\n        {token && <Route exact={true} path={`/user/bars`} component={Bars} />}\n        <Route path=\"/403\" component={() => <Exception403 />} />\n        <Route component={() => <Exception404 />} />\n      </Switch>\n    );\n\n    if (withLayout) {\n      return (\n        <section className={styles.container}>\n          <NavLayout matchedPath={location.pathname}>{currentApp}</NavLayout>\n        </section>\n      );\n    } else {\n      return <section className={styles.container}>{currentApp}</section>;\n    }\n  }\n}\n\nexport default connect(_state => ({}), {})(withRouter(App));\n","import React from 'react';\n\nimport PromiseComp from '../../skeleton/containers/PromiseComp';\n\nimport { getAuthority } from './authority';\n\nexport type IAuthorityType =\n  | undefined\n  | string\n  | string[]\n  | Promise<boolean>\n  | ((currentAuthority?: string[]) => IAuthorityType);\n\n/**\n * 通用权限检查方法\n * Common check permissions method\n * @param { 权限判定 | Permission judgment } authority\n * @param { 你的权限 | Your permission description } currentAuthority\n * @param { 通过的组件 | Passing components } target\n * @param { 未通过的组件 | no pass components } Exception\n */\nexport const check = <T, K>(\n  authority: IAuthorityType,\n  currentAuthority: string[],\n  target: T,\n  Exception: K,\n): T | K | React.ReactNode => {\n  // 没有判定权限.默认查看所有\n  // Retirement authority, return target;\n  if (!authority) {\n    return target;\n  }\n\n  // 数组处理\n  if (Array.isArray(authority)) {\n    if (Array.isArray(currentAuthority)) {\n      if (currentAuthority.some(item => authority.includes(item))) {\n        return target;\n      }\n    } else if (authority.includes(currentAuthority)) {\n      return target;\n    }\n    return Exception;\n  }\n\n  // string 处理\n  if (typeof authority === 'string') {\n    if (Array.isArray(currentAuthority)) {\n      if (currentAuthority.some(item => authority === item)) {\n        return target;\n      }\n    } else if (authority === currentAuthority) {\n      return target;\n    }\n    return Exception;\n  }\n\n  // Promise 处理\n  if (authority instanceof Promise) {\n    return (\n      <PromiseComp<T, K> ok={target} error={Exception} promise={authority} />\n    );\n  }\n\n  // Function 处理\n  if (typeof authority === 'function') {\n    try {\n      // 传入当前的权限判断是否满足要求\n      const bool = authority(currentAuthority);\n\n      // 函数执行后返回值是 Promise\n      if (bool instanceof Promise) {\n        return (\n          <PromiseComp<T, K> ok={target} error={Exception} promise={bool} />\n        );\n      }\n\n      if (bool) {\n        return target;\n      }\n\n      return Exception;\n    } catch (error) {\n      throw error;\n    }\n  }\n  throw new Error('unsupported parameters');\n};\n\nexport function checkPermissions<T, K>(\n  authority: IAuthorityType,\n  target: T,\n  Exception: K,\n): T | K | React.ReactNode {\n  return check<T, K>(authority, getAuthority(), target, Exception);\n}\n","import * as React from 'react';\nimport { Redirect, Route } from 'react-router';\n\nimport { IAuthorityType } from './permissions';\nimport { Authorized } from './Authorized';\n\ninterface AuthorizedRoutePops {\n  currentAuthority: string;\n  component: React.ComponentClass<any, any>;\n  render: (props: any) => React.ReactNode;\n  redirectPath: string;\n  authority: IAuthorityType;\n}\n\nexport const AuthorizedRoute: React.SFC<AuthorizedRoutePops> = ({\n  component: Component,\n  render,\n  authority,\n  redirectPath,\n  ...rest\n}) => (\n  <Authorized\n    authority={authority}\n    noMatch={\n      <Route\n        {...rest}\n        render={() => <Redirect to={{ pathname: redirectPath }} />}\n      />\n    }\n  >\n    <Route\n      {...rest}\n      render={(props: any) =>\n        Component ? <Component {...props} /> : render(props)\n      }\n    />\n  </Authorized>\n);\n","export * from './authority';\nexport * from './withAuth';\nexport * from './Authorized';\nexport * from './AuthorizedRoute';\nexport * from './permissions';\nexport * from './token';\nexport * from './permissions';\n","import { Tag, message } from 'antd';\nimport groupBy from 'lodash/groupBy';\nimport moment from 'moment';\nimport React, { Component } from 'react';\n\nimport { formatMessage } from '@/i18n';\nimport { NoticeItem } from '@/models/global';\nimport { CurrentUser } from '@/models/UserModel';\nimport { notices } from '@/skeleton/apis/__mock__/notices';\n\nimport NoticeIcon from '../NoticeIcon';\n\nimport styles from './index.less';\n\nexport interface NoticeIconViewProps {\n  notices?: NoticeItem[];\n  currentUser?: CurrentUser;\n  fetchingNotices?: boolean;\n  onNoticeVisibleChange?: (visible: boolean) => void;\n  onNoticeClear?: (tabName?: string) => void;\n}\n\nexport class NoticeIconView extends Component<NoticeIconViewProps> {\n  static defaultProps = {\n    notices,\n  };\n\n  changeReadState = (clickedItem: NoticeItem): void => {\n    const { id } = clickedItem;\n\n    console.log('changeNoticeReadState: ' + id);\n  };\n\n  handleNoticeClear = (title: string, _: string) => {\n    message.success(\n      `${formatMessage({\n        id: 'component.noticeIcon.cleared',\n        defaultMessage: '清空完毕',\n      })} ${title}`,\n    );\n\n    console.log('global/clearNotices');\n  };\n\n  getNoticeData = (): { [key: string]: NoticeItem[] } => {\n    const { notices = [] } = this.props;\n    if (notices.length === 0) {\n      return {};\n    }\n    const newNotices = notices.map(notice => {\n      const newNotice = { ...notice };\n      if (newNotice.datetime) {\n        newNotice.datetime = moment(notice.datetime as string).fromNow();\n      }\n      if (newNotice.id) {\n        newNotice.key = newNotice.id;\n      }\n      if (newNotice.extra && newNotice.status) {\n        const color = {\n          todo: '',\n          processing: 'blue',\n          urgent: 'red',\n          doing: 'gold',\n        }[newNotice.status];\n        newNotice.extra = (\n          <Tag color={color} style={{ marginRight: 0 }}>\n            {newNotice.extra}\n          </Tag>\n        );\n      }\n      return newNotice;\n    });\n    return groupBy(newNotices, 'type');\n  };\n\n  getUnreadData = (noticeData: { [key: string]: NoticeItem[] }) => {\n    const unreadMsg: { [key: string]: number } = {};\n    Object.keys(noticeData).forEach(key => {\n      const value = noticeData[key];\n      if (!unreadMsg[key]) {\n        unreadMsg[key] = 0;\n      }\n      if (Array.isArray(value)) {\n        unreadMsg[key] = value.filter(item => !item.read).length;\n      }\n    });\n    return unreadMsg;\n  };\n\n  render() {\n    const { currentUser, fetchingNotices, onNoticeVisibleChange } = this.props;\n    const noticeData = this.getNoticeData();\n    const unreadMsg = this.getUnreadData(noticeData);\n\n    return (\n      <NoticeIcon\n        className={styles.action}\n        count={currentUser && currentUser.unreadCount}\n        onItemClick={item => {\n          this.changeReadState(item as NoticeItem);\n        }}\n        loading={fetchingNotices}\n        clearText={formatMessage({\n          id: 'component.noticeIcon.clear',\n          defaultMessage: '清空',\n        })}\n        viewMoreText={formatMessage({\n          id: 'component.noticeIcon.view-more',\n          defaultMessage: '更多',\n        })}\n        onClear={this.handleNoticeClear}\n        onPopupVisibleChange={onNoticeVisibleChange}\n        onViewMore={() => message.info('Click on view more')}\n        clearClose={true}\n      >\n        <NoticeIcon.Tab\n          tabKey=\"notification\"\n          count={unreadMsg.notification}\n          list={noticeData.notification}\n          title={formatMessage({\n            id: 'component.globalHeader.notification',\n            defaultMessage: '通知',\n          })}\n          emptyText={formatMessage({\n            id: 'component.globalHeader.notification.empty',\n            defaultMessage: '暂无通知',\n          })}\n          showViewMore={true}\n        />\n        <NoticeIcon.Tab\n          tabKey=\"message\"\n          count={unreadMsg.message}\n          list={noticeData.message}\n          title={formatMessage({\n            id: 'component.globalHeader.message',\n            defaultMessage: '评论',\n          })}\n          emptyText={formatMessage({\n            id: 'component.globalHeader.message.empty',\n            defaultMessage: '暂无评论',\n          })}\n          showViewMore={true}\n        />\n        <NoticeIcon.Tab\n          tabKey=\"event\"\n          title={formatMessage({\n            id: 'component.globalHeader.event',\n            defaultMessage: '事件',\n          })}\n          emptyText={formatMessage({\n            id: 'component.globalHeader.event.empty',\n            defaultMessage: '暂无事件',\n          })}\n          count={unreadMsg.event}\n          list={noticeData.event}\n          showViewMore={true}\n        />\n      </NoticeIcon>\n    );\n  }\n}\n","export const notices = [\n  {\n    id: '000000001',\n    avatar:\n      'https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png',\n    title: '你收到了 14 份新周报',\n    datetime: '2017-08-09',\n    type: 'notification',\n  },\n  {\n    id: '000000002',\n    avatar:\n      'https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png',\n    title: '你推荐的 曲妮妮 已通过第三轮面试',\n    datetime: '2017-08-08',\n    type: 'notification',\n  },\n  {\n    id: '000000003',\n    avatar:\n      'https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png',\n    title: '这种模板可以区分多种通知类型',\n    datetime: '2017-08-07',\n    read: true,\n    type: 'notification',\n  },\n  {\n    id: '000000004',\n    avatar:\n      'https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png',\n    title: '左侧图标用于区分不同的类型',\n    datetime: '2017-08-07',\n    type: 'notification',\n  },\n  {\n    id: '000000005',\n    avatar:\n      'https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png',\n    title: '内容不要超过两行字，超出时自动截断',\n    datetime: '2017-08-07',\n    type: 'notification',\n  },\n  {\n    id: '000000006',\n    avatar:\n      'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\n    title: '曲丽丽 评论了你',\n    description: '描述信息描述信息描述信息',\n    datetime: '2017-08-07',\n    type: 'message',\n    clickClose: true,\n  },\n  {\n    id: '000000007',\n    avatar:\n      'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\n    title: '朱偏右 回复了你',\n    description: '这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像',\n    datetime: '2017-08-07',\n    type: 'message',\n    clickClose: true,\n  },\n  {\n    id: '000000008',\n    avatar:\n      'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\n    title: '标题',\n    description: '这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像',\n    datetime: '2017-08-07',\n    type: 'message',\n    clickClose: true,\n  },\n  {\n    id: '000000009',\n    title: '任务名称',\n    description: '任务需要在 2017-01-12 20:00 前启动',\n    extra: '未开始',\n    status: 'todo',\n    type: 'event',\n  },\n  {\n    id: '000000010',\n    title: '第三方紧急代码变更',\n    description: '冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务',\n    extra: '马上到期',\n    status: 'urgent',\n    type: 'event',\n  },\n  {\n    id: '000000011',\n    title: '信息安全考试',\n    description: '指派竹尔于 2017-01-09 前完成更新并发布',\n    extra: '已耗时 8 天',\n    status: 'doing',\n    type: 'event',\n  },\n  {\n    id: '000000012',\n    title: 'ABCD 版本发布',\n    description: '冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务',\n    extra: '进行中',\n    status: 'processing',\n    type: 'event',\n  },\n];\n","import { Button, Icon, Input, message } from 'antd';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { RouteComponentProps, withRouter } from 'react-router';\n\nimport { loginByUsername } from '@/apis';\nimport { IState } from '@/ducks';\nimport { userActions } from '@/pages/userCenter/ducks/profile';\n\nimport * as styles from './index.less';\n\nconst IconFont = Icon.createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_1261840_krnjkfohr6g.js',\n});\n\nexport interface LoginPageProps extends RouteComponentProps {\n  loadProfile: (id: number) => void;\n}\n\nexport interface LoginPageState {\n  username: string;\n  password: string;\n  [key: string]: string;\n}\n\nexport class LoginPageComp extends React.Component<\n  LoginPageProps,\n  LoginPageState\n> {\n  constructor(props: LoginPageProps) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n    };\n  }\n\n  handleInputValue = (type: 'username' | 'password') => (e: any) => {\n    this.setState({ [type]: e.target.value });\n  };\n\n  handleLogin = async () => {\n    const { username, password } = this.state;\n    const resp = await loginByUsername(username, password);\n\n    if (resp.data.token) {\n      message.success('登录成功');\n      this.props.history.push(__dirname);\n    } else if (resp.message.errors === 'User not found') {\n      message.error('用户名或密码错误');\n    }\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n      <div className={styles.container}>\n        <div className={styles.form}>\n          <div>\n            <Input\n              value={username}\n              className={styles.input}\n              prefix={<IconFont type=\"icon-yonghuming\" />}\n              onChange={this.handleInputValue('username')}\n            />\n            <Input.Password\n              value={password}\n              className={styles.input}\n              prefix={<IconFont type=\"icon-A-copy\" />}\n              onChange={this.handleInputValue('password')}\n            />\n          </div>\n          <Button\n            block={true}\n            className={styles.loginBtn}\n            onClick={this.handleLogin}\n          >\n            登录\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport const LoginPage = connect((_state: IState) => ({}), {\n  loadProfile: userActions.loadProfile,\n})(withRouter(LoginPageComp));\n","/** Mock i18n 相关操作，详情参考 */\n\nexport function formatMessage({\n  id,\n  defaultMessage,\n}: {\n  id: string;\n  defaultMessage?: string;\n}) {\n  return defaultMessage || id;\n}\n\nexport function setLocale(...args: any) {\n  console.log(args);\n}\n\nexport function getLocale() {\n  return 'zh-CN';\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"copyBlock\":\"_2SYDcS7KPH\",\"copyBlockView\":\"_2GGwZSHa6o\",\"copyBlockCode\":\"_33ZK20n7_E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ZGGtgKs0sw\",\"content\":\"bH2xvQfAie\",\"btn\":\"_1uTFNPEkGz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerSearch\":\"_2wYrnIknYu\",\"input\":\"_3u5N8MAzyX\",\"show\":\"_2IfJl0oPXp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appContainer\":\"_25EBmCqmXX\",\"appCenter\":\"_25IzATtzbp\",\"flexStart\":\"_iGpZyewFE\",\"flexEnd\":\"_2jNz979jtq\",\"spaceBetween\":\"_1IO3cfTbLk\",\"spaceAround\":\"_6DN2QenEeu\",\"button\":\"_3HNBeTtVNW\",\"container\":\"_3gswt-MbcH\",\"pageHeader\":\"_1WbIu3zp5b\",\"filter\":\"yQQPkfTpRQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"_1lI8uLl3WT\",\"dropDown\":\"_2U1ZBfYsUo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_2eoW_x_cLJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_2_CVnc1N8u\",\"renderPhoto\":\"_1AUR-0SzPC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"fDZgx8PYW3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_2EsO_fCrdT\",\"logo\":\"_3mazNOhrwz\",\"logoIcon\":\"_2FlFn0rj7h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"_2_zrLJZjZb\",\"menu\":\"TtE_9rVaVr\",\"trigger\":\"_3ol2qjZNP5\",\"right\":\"_39mq6Tpfgw\",\"action\":\"v-RDJGi66H\",\"search\":\"_1zBTqKa3C8\",\"account\":\"_3JbeoKXEMd\",\"avatar\":\"_1bb5QkNSIT\",\"dark\":\"_32QTegkPEY\",\"loginModal\":\"_2iAuT0nuCe\",\"name\":\"_3sL5kPVpIe\"};","import { Axis, Chart, Coord, Geom, Label, Legend, Tooltip } from 'bizcharts';\nimport _ from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\n\nimport { archiveTags } from '@/apis';\nimport { IState } from '@/ducks';\nimport { articleActions } from '@/pages/article/ducks/blog';\nimport * as S from '@/schema';\n\nimport * as styles from './index.less';\n\ninterface ArchiveTagProps {\n  showInBars: boolean;\n  countArticle: S.CountArticle[];\n\n  loadArticleCntByCreateAt: () => void;\n}\n\ninterface ArchiveTagState {\n  archiveData: S.ArchiveTag[];\n}\n\nexport class ArchiveDataCom extends React.Component<\n  ArchiveTagProps,\n  ArchiveTagState\n> {\n  constructor(props: ArchiveTagProps) {\n    super(props);\n    this.state = {\n      archiveData: [],\n    };\n  }\n\n  async componentDidMount() {\n    this.props.loadArticleCntByCreateAt();\n    const archiveData = await archiveTags();\n    this.setState({ archiveData });\n  }\n\n  public render(): JSX.Element {\n    const { countArticle, showInBars } = this.props;\n    return (\n      <div className={styles.container}>\n        <Chart\n          height={showInBars ? 400 : 340}\n          forceFit={true}\n          style={\n            showInBars\n              ? { width: 500 }\n              : {\n                  width: 260,\n                  marginTop: 12,\n                  borderRadius: 4,\n                  backgroundColor: '#fff',\n                }\n          }\n          padding={showInBars ? [20, 40, 0, -40] : [-65, 10, -25, 12]}\n          data={this.state.archiveData.map(a => ({\n            标签: a.content,\n            文章: a.articles.length,\n          }))}\n        >\n          <Coord type=\"polar\" innerRadius={0.1} />\n          <Tooltip />\n          {showInBars ? (\n            <Legend position=\"right\" offsetX={-30} />\n          ) : (\n            <Legend position=\"bottom\" offsetY={-90} />\n          )}\n          <Geom\n            type=\"interval\"\n            color={['标签', '#1FA2FF-#A6FFCB']}\n            position=\"标签*文章\"\n            style={{\n              // stylelint-disable-next-line property-no-unknown\n              lineWidth: 1,\n              stroke: '#fff',\n            }}\n          >\n            <Label content=\"标签\" offset={-15} />\n          </Geom>\n        </Chart>\n        {showInBars && (\n          <Chart\n            height={400}\n            style={{ width: 600 }}\n            data={(countArticle || []).map(c => ({\n              数量: _.toNumber(c.count),\n              日期: c.date,\n            }))}\n            forceFit={true}\n            scale={{ 数量: { tickInterval: 1 } }}\n            padding={[30, 70, 30, 50]}\n          >\n            <Axis name=\"日期\" title={true} />\n            <Axis name=\"数量\" title={true} />\n            <Legend position=\"right\" />\n            <Tooltip />\n            <Geom\n              size={35}\n              type=\"interval\"\n              position=\"日期*数量\"\n              tooltip={[\n                '日期*数量',\n                (日期, 数量) => ({ name: 日期, value: `${数量} 篇文章` }),\n              ]}\n              color={['数量', '#1FA2FF-#A6FFCB']}\n            >\n              <Label content=\"数量\" />\n            </Geom>\n          </Chart>\n        )}\n      </div>\n    );\n  }\n}\n\nexport const ArchiveData = connect(\n  (state: IState) => ({\n    countArticle: state.blog.article.countArticle,\n  }),\n  { loadArticleCntByCreateAt: articleActions.loadArticleCntByCreateAt },\n)(ArchiveDataCom);\n","import { createActions, handleActions } from 'redux-actions';\nimport { handle } from 'redux-pack-fsa';\n\nimport { getMoCloudMsg } from '@/apis';\nimport * as S from '@/schema';\n\nexport interface IState {\n  moCloudMsg: S.MoCloudMsg;\n}\n\nconst initialState: IState = {\n  moCloudMsg: new S.MoCloudMsg(),\n};\n\nexport const actions = createActions({\n  async loadMoCloudMsg() {\n    return getMoCloudMsg();\n  },\n});\n\nexport const moCloudActions = actions;\n\nexport default handleActions<IState, any>(\n  {\n    [actions.loadMoCloudMsg.toString()](state: IState, action) {\n      const { payload } = action;\n\n      return handle(state, action, {\n        success: (prevState: IState) => ({ ...prevState, moCloudMsg: payload }),\n      });\n    },\n  },\n  initialState,\n);\n","import { createHashHistory } from 'history';\n\nexport const history = createHashHistory();\n","export * from './comp';\nexport * from './module';\nexport * from './pagination';\nexport * from './props';\n","import { Button, Result } from 'antd';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { formatMessage } from '@/i18n';\n\nexport const Exception403 = () => (\n  <Result\n    status=\"403\"\n    title=\"403\"\n    style={{\n      background: 'none',\n    }}\n    subTitle={formatMessage({\n      id: 'exception-403.description.403',\n      defaultMessage: \"Sorry, you don't have access to this page.\",\n    })}\n    extra={\n      <Link to=\"/\">\n        <Button type=\"primary\">\n          {formatMessage({\n            id: 'exception-403.exception.back',\n            defaultMessage: '返回首页',\n          })}\n        </Button>\n      </Link>\n    }\n  />\n);\n","import { Button } from 'antd';\nimport * as React from 'react';\n\nimport { history } from '@/skeleton/env/history';\n\nimport * as styles from './index.less';\n\nexport const Exception404 = () => (\n  <div className={styles.container}>\n    <div className={styles.content}>\n      <p>Page Not Found</p>\n      <span>\n        Lorem ipsum dolor sit amet, consectetur\n        <br /> adipiscing elit, sed do eiusmod tempor incididunt\n        <br /> ut labore et dolore magna aliqua\n      </span>\n      <Button\n        shape=\"round\"\n        className={styles.btn}\n        onClick={() => history.push('/')}\n      >\n        Back\n      </Button>\n    </div>\n    <div />\n  </div>\n);\n","export * from './CopyBlock';\nexport * from './exception';\nexport * from './GlobalHeader/NoticeIconView';\nexport * from './GlobalHeader/RightContent';\nexport * from './GlobalHeader/UserDropdown';\nexport * from './HeaderDropdown';\nexport * from './HeaderSearch';\nexport * from './LangSelector';\nexport * from './NoticeIcon';\nexport * from './PageLoading';\n","import { createContext } from 'react';\n\nimport { IAuthorityType } from '@/skeleton/auth/permissions';\n\nexport interface NavContextProps {\n  authority?: IAuthorityType;\n  onAuthorityChange?: (authority: IAuthorityType) => void;\n  tabUtil?: {\n    addTab: (id: string) => void;\n    removeTab: (id: string) => void;\n  };\n  updateActive?: (activeItem: { [key: string]: string } | string) => void;\n}\n\nexport const NavContext: React.Context<NavContextProps> = createContext({});\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  fillRule: \"nonzero\",\n  fill: \"none\"\n}, React.createElement(\"path\", {\n  d: \"M27.16 2.403V.995c0-.166.143-.3.32-.3h1.502c.177 0 .32.134.32.3v1.408c0 .166-.143.3-.32.3H27.48c-.177 0-.32-.134-.32-.3z\",\n  fill: \"#25D887\"\n}), React.createElement(\"path\", {\n  d: \"M35.819 8.893c2.293 0 4.158-1.749 4.158-3.898 0-2.15-1.865-3.899-4.158-3.899h-3.301v7.797h3.3z\",\n  fill: \"#2CC7CE\"\n}), React.createElement(\"path\", {\n  d: \"M35.819 8.893l-13.435-.08h-4.768l-13.435.08C1.888 8.893.023 7.144.023 4.995v27.289c0 2.15 1.865 3.898 4.158 3.898H35.82c2.293 0 4.158-1.749 4.158-3.898V4.994c0 2.15-1.865 3.899-4.158 3.899z\",\n  fill: \"#7FE4F4\"\n}), React.createElement(\"path\", {\n  d: \"M39.977 4.995V32.32c0-2.15-1.865-3.898-4.158-3.898h-3.301V8.893h3.3c2.294 0 4.16-1.749 4.16-3.898z\",\n  fill: \"#1EBABA\"\n}), React.createElement(\"path\", {\n  d: \"M4.181 8.893C1.888 8.893.023 7.144.023 4.995c0-2.15 1.865-3.899 4.158-3.899h3.301v7.797h-3.3z\",\n  fill: \"#2CC7CE\"\n}), React.createElement(\"path\", {\n  d: \"M.023 4.995V32.32c0-2.15 1.865-3.898 4.158-3.898h3.301V8.893h-3.3C1.887 8.893.022 7.144.022 4.995zM11.212 28.887c-.638 0-1.158-.487-1.158-1.085 0-.599.52-1.086 1.158-1.086.638 0 1.157.487 1.157 1.086 0 .598-.519 1.085-1.157 1.085z\",\n  fill: \"#1EBABA\"\n}), React.createElement(\"path\", {\n  d: \"M13.62 1.709V.3c0-.166.144-.301.32-.301h1.502c.178 0 .321.135.321.3V1.71c0 .166-.143.3-.32.3H13.94c-.177 0-.321-.134-.321-.3z\",\n  fill: \"#25D887\"\n}), React.createElement(\"path\", {\n  d: \"M26.816 28.607v-1.409c0-.166.144-.3.32-.3h1.503c.177 0 .32.134.32.3v1.41c0 .165-.143.3-.32.3h-1.502c-.177 0-.32-.135-.32-.3z\",\n  fill: \"#1EBABA\"\n}), React.createElement(\"path\", {\n  d: \"M23.558 10.128V8.703c0-.162.14-.292.311-.292h1.521c.172 0 .312.13.312.292v1.425c0 .162-.14.292-.312.292h-1.52c-.172 0-.312-.13-.312-.292z\",\n  fill: \"#25D887\"\n}), React.createElement(\"path\", {\n  d: \"M25.659 7.848H23.6c-.355 0-.643.27-.643.603v1.93c0 .332.288.602.643.602h2.058c.355 0 .643-.27.643-.603V8.45c0-.332-.288-.602-.643-.602zm-.643 1.93h-.772v-.724h.772v.723z\",\n  fill: \"#000\"\n}), React.createElement(\"path\", {\n  d: \"M25.408 30.354h-2.41l-6.153.075H13.62l-.074.016c-1.799.379-3.105 1.91-3.105 3.641v5.11c0 .443.385.804.859.804H28.53c.473 0 .858-.361.858-.805v-5.109c0-2.057-1.785-3.732-3.98-3.732z\",\n  fill: \"#086987\"\n}), React.createElement(\"path\", {\n  d: \"M19.198 30.4l-2.353.03H13.62l-.074.015c-1.799.379-3.105 1.91-3.105 3.641v5.11c0 .443.385.804.859.804h5.225c-.473 0-.858-.361-.858-.805v-5.109c0-1.731 1.305-3.262 3.104-3.641l.075-.016h.353v-.028z\",\n  fill: \"#066075\"\n}), React.createElement(\"path\", {\n  d: \"M25.408 30.354h-2.41l-6.153.075H13.62l-.074.016c-1.799.379-3.105 1.91-3.105 3.641v2.096h18.948v-2.096c0-2.057-1.785-3.732-3.98-3.732z\",\n  fill: \"#184B56\"\n}), React.createElement(\"path\", {\n  d: \"M15.665 34.086c0-1.73 1.306-3.262 3.105-3.64l.075-.016h.353v-.03l-1.246.016-1.107.014H13.62l-.074.015c-1.687.355-2.94 1.723-3.09 3.32-.01.106-.015.213-.015.321v2.096h5.226v-2.096z\",\n  fill: \"#104149\"\n}), React.createElement(\"path\", {\n  d: \"M26.175 39.96v-4.823c0-.333-.287-.603-.643-.603-.355 0-.643.27-.643.603v4.823l.003.04h1.281l.002-.04z\",\n  fill: \"#066075\"\n}), React.createElement(\"path\", {\n  d: \"M16.828 30.19v-2.766h6.259v2.766c0 1.62-1.401 2.934-3.13 2.934-1.728 0-3.13-1.313-3.13-2.934z\",\n  fill: \"#B79480\"\n}), React.createElement(\"path\", {\n  d: \"M19.743 30.19v-2.766h-2.915v2.766c0 1.62 1.4 2.934 3.13 2.934.526 0 1.021-.122 1.457-.338-.994-.491-1.672-1.469-1.672-2.596z\",\n  fill: \"#B28772\"\n}), React.createElement(\"path\", {\n  d: \"M27.581 8.4h-.502v-.795c0-1.55-1.345-2.816-2.998-2.823l-2.58-.01h-4.643c-1.135 0-2.174.366-2.926 1.03a3.472 3.472 0 00-1.182 2.599h-.503c-1.174 0-2.13.896-2.13 1.997v7.374h19.594v-7.374c0-1.101-.955-1.997-2.13-1.997z\",\n  fill: \"#F79548\"\n}), React.createElement(\"path\", {\n  d: \"M16.963 8.4h.502a3.472 3.472 0 011.183-2.597c.752-.665 1.79-1.03 2.925-1.03h.027l-.1-.001h-4.642c-1.135 0-2.174.366-2.926 1.03a3.472 3.472 0 00-1.182 2.599h-.503c-1.174 0-2.13.896-2.13 1.997v7.374h4.716v-7.374c0-1.101.956-1.997 2.13-1.997z\",\n  fill: \"#F27927\"\n}), React.createElement(\"path\", {\n  d: \"M29.108 9.008l-.202-.195H10.923l-.203.195a1.923 1.923 0 00-.602 1.39v7.374H29.71v-7.374c0-.521-.214-1.015-.603-1.39z\",\n  fill: \"#875736\"\n}), React.createElement(\"path\", {\n  d: \"M15.67 8.813h-4.716a2.106 2.106 0 00-.207.169l-.026.025v.001a2.096 2.096 0 00-.07.07l-.004.004a2.112 2.112 0 00-.061.068l-.01.012-.05.062-.016.02a2.079 2.079 0 00-.094.135l-.023.039a1.642 1.642 0 00-.05.088 1.685 1.685 0 00-.045.09l-.018.037-.022.054-.015.035a2.163 2.163 0 00-.02.057l-.013.035-.017.057-.01.037-.015.057-.009.039-.01.057-.008.04-.008.059-.005.039-.005.065-.003.034a1.896 1.896 0 00-.003.1v7.374h4.716v-7.374c0-.646.329-1.22.837-1.585z\",\n  fill: \"#7C4E2E\"\n}), React.createElement(\"path\", {\n  d: \"M11.289 20.7c-1.176 0-2.133-.898-2.133-2 0-1.103.957-2 2.133-2h2.706v4h-2.706z\",\n  fill: \"#B79480\"\n}), React.createElement(\"path\", {\n  fill: \"#AD806D\",\n  d: \"M11.575 16.7h1.907v3.999h-1.906z\"\n}), React.createElement(\"path\", {\n  d: \"M28.711 20.7c1.177 0 2.133-.898 2.133-2 0-1.103-.957-2-2.133-2h-2.705v4h2.705z\",\n  fill: \"#B79480\"\n}), React.createElement(\"path\", {\n  fill: \"#AD806D\",\n  d: \"M26.281 16.7h1.907v3.999h-1.907z\"\n}), React.createElement(\"path\", {\n  d: \"M19.914 28.58c-3.95 0-7.164-3.012-7.164-6.716V18.78h14.329v3.084c0 3.704-3.214 6.717-7.165 6.717z\",\n  fill: \"#B79480\"\n}), React.createElement(\"path\", {\n  d: \"M16.393 21.864V18.78H12.75v3.084c0 3.704 3.215 6.717 7.165 6.717a7.6 7.6 0 001.822-.22c-3.07-.759-5.343-3.383-5.343-6.497z\",\n  fill: \"#B28772\"\n}), React.createElement(\"path\", {\n  d: \"M20 26.657c-.875 0-1.586-.667-1.586-1.487v-.322c0-.82.711-1.487 1.586-1.487.875 0 1.586.668 1.586 1.487v.322c0 .82-.711 1.487-1.586 1.487z\",\n  fill: \"#6D1326\"\n}), React.createElement(\"path\", {\n  d: \"M20 23.361c-.774 0-1.42.523-1.558 1.212a1.634 1.634 0 011.13-.445c.874 0 1.586.668 1.586 1.487v.322a1.4 1.4 0 01-.029.275c.282-.268.457-.636.457-1.042v-.322c0-.82-.711-1.487-1.586-1.487z\",\n  fill: \"#630F23\"\n}), React.createElement(\"path\", {\n  d: \"M18.242 12.59V4.392c0-.398.346-.723.771-.723h1.802c.425 0 .771.325.771.723v8.2h-3.344z\",\n  fill: \"#4B4B5B\"\n}), React.createElement(\"path\", {\n  fill: \"#2A2A3D\",\n  d: \"M18.242 8.813h3.344v3.778h-3.344z\"\n}), React.createElement(\"path\", {\n  d: \"M12.302 18.86c-1.168 0-2.119-.89-2.119-1.986v-2.377c0-1.096.95-1.987 2.119-1.987h15.225c1.043 0 1.921.701 2.09 1.667l.008.051v2.774l.01.08-.013.077c-.15.97-1.05 1.701-2.095 1.701H12.302z\",\n  fill: \"#2A2A3D\"\n}), React.createElement(\"path\", {\n  d: \"M18.505 16.874v-2.377c0-1.096.95-1.987 2.119-1.987h-8.322c-1.168 0-2.119.891-2.119 1.987v2.377c0 1.095.95 1.986 2.119 1.986h8.322c-1.168 0-2.119-.89-2.119-1.986z\",\n  fill: \"#223\"\n}), React.createElement(\"path\", {\n  d: \"M13.527 16.85c-.662 0-1.2-.504-1.2-1.125 0-.62.538-1.125 1.2-1.125h12.775c.662 0 1.2.505 1.2 1.125s-.538 1.126-1.2 1.126H13.527z\",\n  fill: \"#749654\"\n}), React.createElement(\"path\", {\n  d: \"M26.302 14.6H13.527c-.504 0-.935.293-1.113.705h12.387c.662 0 1.2.505 1.2 1.126 0 .148-.03.29-.087.42h.388c.662 0 1.2-.505 1.2-1.126 0-.62-.538-1.125-1.2-1.125z\",\n  fill: \"#5F7F3D\"\n}), React.createElement(\"path\", {\n  d: \"M15.11 39.96v-4.823c0-.333-.287-.603-.642-.603-.355 0-.643.27-.643.603v4.823c0 .013 0 .027.002.04h1.282l.002-.04z\",\n  fill: \"#055866\"\n}), React.createElement(\"path\", {\n  d: \"M15.11 36.182v-1.045c0-.333-.287-.603-.642-.603-.355 0-.643.27-.643.603v1.045h1.286z\",\n  fill: \"#0A3A3F\"\n}), React.createElement(\"path\", {\n  d: \"M26.175 36.182v-1.045c0-.333-.287-.603-.643-.603-.355 0-.643.27-.643.603v1.045h1.286z\",\n  fill: \"#104149\"\n}));\n\nvar SvgLogo2 = function SvgLogo2(props) {\n  return React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40\n  }, props), _ref);\n};\n\nexport default SvgLogo2;","import ProLayout, {\n  BasicLayoutProps as ProLayoutProps,\n  MenuDataItem,\n} from '@ant-design/pro-layout';\nimport { Icon } from 'antd';\nimport _ from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport Logo from '@/assets/logo2.svg';\nimport { IState } from '@/ducks';\nimport { formatMessage } from '@/i18n';\nimport { getMenus } from '@/manifest';\nimport { userActions } from '@/pages/userCenter/ducks/profile';\nimport * as S from '@/schema';\nimport { checkPermissions } from '@/skeleton/auth';\nimport { getAuthority, setAuthority } from '@/skeleton/auth/authority';\n\nimport { RightContent } from '../components/GlobalHeader/RightContent';\n\nimport { NavContext } from './NavContext';\n\nimport * as styles from './index.less';\n\nexport interface NavLayoutProps extends ProLayoutProps {\n  matchedPath: string;\n  profile: S.UserProfile;\n  children: any;\n\n  loadProfile: (id: number) => void;\n}\n\n/**\n * use AuthorizedWrapper check all menu item\n */\nconst menuDataRender = (menuList: MenuDataItem[]): MenuDataItem[] =>\n  menuList.map(item => {\n    const localItem = {\n      ...item,\n      children: item.children ? menuDataRender(item.children) : [],\n    };\n    return checkPermissions(item.authority, localItem, null) as MenuDataItem;\n  });\n\nconst defaultRenderCollapsedButton = (collapsed?: boolean) => (\n  <Icon type={collapsed ? 'menu-unfold' : 'menu-fold'} />\n);\n\nconst footerRender: NavLayoutProps['footerRender'] = () => {\n  return (\n    <div\n      style={{\n        // textAlign: 'center',\n        display: 'flex',\n        justifyContent: 'center',\n        alignContent: 'center',\n        marginTop: 12,\n      }}\n    >\n      <h3 style={{ marginRight: 16, fontSize: 14 }}>NLi，项目地址:</h3>\n      <a href=\"https://github.com/Tsj215/Nli-blog\">NLi'blog</a>\n    </div>\n  );\n};\n\nconst NavLayoutCom: React.FC<Partial<NavLayoutProps>> = props => {\n  const { children, matchedPath, profile, loadProfile } = props;\n  const [authority, _setAuthority] = React.useState(getAuthority());\n\n  const [collapse, toggleCollapse] = React.useState(true);\n\n  const handleMenuCollapse = (payload: boolean): void => {\n    toggleCollapse(payload);\n  };\n\n  // 如果用户个人信息不存在，则进行加载\n  if (!profile.avatarUrl) {\n    localStorage.getItem('nli-token') && loadProfile(1);\n  }\n\n  return (\n    <section>\n      <NavContext.Provider\n        value={{\n          authority: authority,\n          onAuthorityChange: (a: string[]) => {\n            setAuthority(a);\n            _setAuthority(a);\n          },\n        }}\n      >\n        <ProLayout\n          className={styles.container}\n          {...props}\n          title={\"Nli's Blog\"}\n          collapsed={collapse}\n          layout=\"topmenu\"\n          route={getMenus() as any}\n          logo={\n            <div className={styles.logo}>\n              <Logo />\n              {collapse && <span>Nli's Blog</span>}\n            </div>\n          }\n          siderWidth={240}\n          navTheme={'light'}\n          menuDataRender={menuDataRender}\n          menuItemRender={(menuItemProps, defaultDom) => {\n            if (menuItemProps.isUrl) {\n              return defaultDom;\n            }\n\n            return (\n              <Link\n                style={{\n                  // stylelint-disable-next-line function-name-case\n                  color: _.startsWith(matchedPath || '', menuItemProps.path)\n                    ? '#6874e2'\n                    : 'rgba(0,0,0,.65)',\n                }}\n                to={menuItemProps.path}\n              >\n                {defaultDom}\n              </Link>\n            );\n          }}\n          collapsedButtonRender={_collapsed => {\n            return (\n              <span>\n                <span>{defaultRenderCollapsedButton(_collapsed)}</span>\n                <span style={{ marginLeft: 8, fontSize: 16 }}>展开菜单</span>\n              </span>\n            );\n          }}\n          breadcrumbRender={(routers = []) => {\n            return [\n              {\n                path: '/',\n                breadcrumbName: formatMessage({\n                  id: 'menu.home',\n                  defaultMessage: 'Home',\n                }),\n              },\n              ...routers,\n            ];\n          }}\n          itemRender={(route, _, routes, paths) => {\n            const first = routes.indexOf(route) === 0;\n\n            return first ? (\n              <Link to={paths.join('/')}>{route.breadcrumbName}</Link>\n            ) : (\n              <span>{route.breadcrumbName}</span>\n            );\n          }}\n          footerRender={footerRender}\n          formatMessage={formatMessage}\n          rightContentRender={rightProps => (\n            <RightContent profile={profile} {...rightProps} />\n          )}\n          onCollapse={handleMenuCollapse}\n          onMenuHeaderClick={e => e.preventDefault()}\n        >\n          {children}\n        </ProLayout>\n      </NavContext.Provider>\n    </section>\n  );\n};\n\nexport const NavLayout = connect(\n  (state: IState) => ({\n    profile: state.user.profile.profile,\n  }),\n  {\n    loadProfile: userActions.loadProfile,\n  },\n)(NavLayoutCom);\n","export * from './NavContext';\nexport * from './NavLayout';\n","import MobileDetect from 'mobile-detect';\n\n// export const HOST = 'http://localhost:3030';\nexport const HOST = 'http://106.52.97.183:3030';\nexport const WITH_AUTH = true;\n\nconst md = new MobileDetect(window.navigator.userAgent);\n\nexport const isMobile = !!md.mobile();\n","export * from './dev';\nexport * from './history';\nexport * from './store';\nexport * from './theme';\n","import { useLiteState } from '.';\n\nexport const usePagination = (pageNum = 1, pageSize = 20) =>\n  useLiteState(() => ({\n    pageNum,\n    pageSize,\n  }));\n","import { merge } from 'lodash';\nimport { useCallback, useState } from 'react';\n\nimport { DeepPartial } from '@/schema/helpers';\n\nexport const useLiteState = <T extends {}>(\n  initialState?: T | (() => T),\n): [T, (newState: DeepPartial<T>) => void] => {\n  const [state, setState] = useState(initialState);\n  const setLiteState = useCallback(\n    (newState: DeepPartial<T> | null) => {\n      if (newState == null) {\n        setState(newState as null);\n        return;\n      }\n      setState(merge({}, state, newState));\n    },\n    [state],\n  );\n  return [state, setLiteState];\n};\n","export * from './pagination';\nexport * from './state';\n","/**\n * request 网络请求工具\n * 更详细的 api 文档\b: https://github.com/umijs/umi-request\n */\nimport { notification } from 'antd';\nimport { extend } from 'umi-request';\n\nimport { history } from '@/skeleton/env/history';\n\nconst codeMessage = {\n  200: '服务器成功返回请求的数据。',\n  201: '新建或修改数据成功。',\n  202: '一个请求已经进入后台排队（异步任务）。',\n  204: '删除数据成功。',\n  400: '发出的请求有错误，服务器没有进行新建或修改数据的操作。',\n  401: '用户没有权限（令牌、用户名、密码错误），请重新登录',\n  403: '用户得到授权，但是访问是被禁止的。',\n  404: '发出的请求针对的是不存在的记录，服务器没有进行操作。',\n  406: '请求的格式不可得。',\n  410: '请求的资源被永久删除，且不会再得到的。',\n  422: '当创建一个对象时，发生一个验证错误。',\n  500: '服务器发生错误，请检查服务器。',\n  502: '网关错误。',\n  503: '服务不可用，服务器暂时过载或维护。',\n  504: '网关超时。',\n};\n\n/**\n * 异常处理程序\n */\nconst errorHandler = async (error: {\n  response: Response;\n}): Promise<Response> => {\n  const { response } = error;\n\n  try {\n    if (response && response.status) {\n      const errorText = codeMessage[response.status] || response.statusText;\n      const { status } = response;\n      const resp = await response.clone().json();\n\n      if (resp.status === 'error' && resp.err) {\n        notification.error({\n          message: `请求错误 ${status}`,\n          description: resp.err.reason || resp.err.code,\n        });\n      } else {\n        notification.error({\n          message: `请求错误 ${status}`,\n          description: errorText,\n        });\n      }\n      // 如果是 401，则跳转到登录\n      // eslint-disable-next-line @typescript-eslint/no-magic-numbers\n      if (response.status === 401) {\n        history.push('/auth/login');\n      }\n    } else if (!response) {\n      notification.error({\n        description: '您的网络发生异常，无法连接服务器',\n        message: '网络异常',\n      });\n    }\n  } catch (ie) {\n    notification.error({\n      description: '响应数据异常',\n      message: '服务器异常',\n    });\n  }\n\n  return response;\n};\n\n/** 配置 request 请求时的默认参数 */\nexport let umiRequest = extend({\n  errorHandler, // 默认错误处理\n  credentials: 'same-origin', // 默认请求是否带上cookie\n});\n\n/** 动态设置请求头 */\nexport function setRequestHeader(headers: Record<string, string>) {\n  umiRequest = extend({\n    errorHandler, // 默认错误处理\n    headers,\n    credentials: 'same-origin', // 默认请求是否带上cookie\n  });\n}\n","export * from './umi/request';\n","import React from 'react';\n\nexport abstract class IntervalComponent<P, S> extends React.PureComponent<\n  P,\n  S\n> {\n  intervalHandler: any;\n  interval: number;\n\n  componentDidMount() {\n    this.onInterval();\n\n    this.intervalHandler = setInterval(() => {\n      this.onInterval();\n    }, this.interval || 15 * 1000);\n  }\n\n  componentWillUnmount() {\n    if (this.intervalHandler) {\n      clearInterval(this.intervalHandler);\n    }\n  }\n\n  onInterval: Function;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Q70Gqlngea\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_1Sk53yZX-n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appContainer\":\"_2nJf1ZvRBd\",\"appCenter\":\"_30QYWsOx1r\",\"flexStart\":\"_1hj6Xpozj0\",\"flexEnd\":\"_1DAVb66WV-\",\"spaceBetween\":\"_1ede3P4nRf\",\"spaceAround\":\"_2gBC31pxHd\",\"button\":\"KNlTI-Pwmu\",\"container\":\"_2GQwpgJLf1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_2-JxJWs7VX\"};","import { ConfigProvider } from 'antd';\nimport 'antd/dist/antd.less'; // 引入官方提供的 less 样式入口文件\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport { ConnectedRouter } from 'connected-react-router';\nimport dayjs from 'dayjs';\nimport timeZone from 'dayjs-ext/plugin/timeZone';\nimport zh from 'dayjs/locale/zh-cn';\nimport advancedFormat from 'dayjs/plugin/advancedFormat';\nimport badMutable from 'dayjs/plugin/badMutable';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\nimport isMoment from 'dayjs/plugin/isMoment';\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter';\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore';\nimport localeData from 'dayjs/plugin/localeData';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport utc from 'dayjs/plugin/utc';\nimport weekOfYear from 'dayjs/plugin/weekOfYear';\nimport weekYear from 'dayjs/plugin/weekYear';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { IntlProvider } from 'react-intl';\nimport { Provider } from 'react-redux';\nimport * as smoothscroll from 'smoothscroll-polyfill';\n\nimport { loginByUserToken } from '@/apis';\n\nimport App from './skeleton/containers/App';\nimport { history } from './skeleton/env/history';\nimport store from './skeleton/env/store';\n\nsmoothscroll.polyfill();\n\ndayjs.extend(utc);\ndayjs.extend(advancedFormat);\ndayjs.extend(badMutable);\ndayjs.extend(customParseFormat);\ndayjs.extend(isMoment);\ndayjs.extend(isSameOrAfter);\ndayjs.extend(isSameOrBefore);\ndayjs.extend(localeData);\ndayjs.extend(relativeTime);\ndayjs.extend(weekOfYear);\ndayjs.extend(weekYear);\ndayjs.extend(timeZone);\ndayjs.extend(utc);\n\ndayjs.locale(zh);\n\nloginByUserToken().then(() => {\n  ReactDOM.render(\n    <IntlProvider locale=\"en\">\n      <ConfigProvider locale={zhCN}>\n        <Provider store={store}>\n          <ConnectedRouter history={history}>\n            <App />\n          </ConnectedRouter>\n        </Provider>\n      </ConfigProvider>\n    </IntlProvider>,\n    document.getElementById('root'),\n  );\n});\n","import jwtDecode from 'jwt-decode';\n\n/** 基于 Token 的鉴权方式 */\nexport let token: string | null = null;\nconst LOCAL_KEY = 'nli-token';\n\nexport function getToken() {\n  if (token) {\n    return token;\n  }\n\n  const storedToken = localStorage.getItem(LOCAL_KEY);\n\n  if (storedToken) {\n    return JSON.parse(storedToken);\n  }\n\n  return storedToken;\n}\n\nexport function setToken(_token: string | null) {\n  token = _token;\n\n  if (_token) {\n    return localStorage.setItem(LOCAL_KEY, JSON.stringify(_token));\n  } else {\n    return localStorage.removeItem(LOCAL_KEY);\n  }\n}\n\n/** 判断是否过期 */\nexport function isTokenExpired(token: string | undefined, lead = 0) {\n  if (!token) {\n    return true;\n  }\n\n  const { exp } = jwtDecode(token);\n\n  // 这里引入提前量，以提前进行 Token 更新\n  if (exp * 1000 > Date.now() + lead) {\n    return false;\n  }\n\n  return true;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"_3TnFI09Dmu\",\"item\":\"_2S1Ry5jeEy\",\"meta\":\"_2pdrs_tH0a\",\"avatar\":\"_3lFdfUpWcV\",\"iconElement\":\"_1jBSGjr2F0\",\"read\":\"_1yhfXvupqz\",\"title\":\"_28TDXKrecR\",\"datetime\":\"_1oSwjcqjcX\",\"description\":\"_2FmBGnxnDh\",\"extra\":\"EhDEe7eA8c\",\"loadMore\":\"_3cYoJuJ-Hz\",\"loadedAll\":\"_1dY_l7Ez0u\",\"notFound\":\"_2qHWdSxoZR\",\"bottomBar\":\"amL9JXvR7V\"};"],"sourceRoot":""}